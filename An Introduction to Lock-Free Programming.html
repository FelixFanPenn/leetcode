<!DOCTYPE html>
<!-- saved from url=(0071)https://preshing.com/20120612/an-introduction-to-lock-free-programming/ -->
<html class="js video maskImage placeholder" lang="en"><!--<![endif]--><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  
  <title>An Introduction to Lock-Free Programming</title>
  <meta name="author" content="Jeff Preshing">

  
  
  <meta name="description" content="Lock-free programming is a challenge, not just because of the complexity of the task itself, but because of how difficult it can be to penetrate the subject in the first place. I …">
  
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width,minimum-scale=1,maximum-scale=1">

  <link rel="canonical" href="https://preshing.com/20120612/an-introduction-to-lock-free-programming">
  <link href="https://preshing.com/favicon.png" rel="icon">
  <link href="./An Introduction to Lock-Free Programming_files/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="https://preshing.com/feed" rel="alternate" title="Preshing on Programming" type="application/atom+xml">
  <script type="text/javascript" async="" src="./An Introduction to Lock-Free Programming_files/ga.js"></script><script src="./An Introduction to Lock-Free Programming_files/modernizr-2.0.js"></script>
  <script src="./An Introduction to Lock-Free Programming_files/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="./javascripts/lib/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="./An Introduction to Lock-Free Programming_files/octopress.js" type="text/javascript"></script>
    <script type="text/javascript" src="./An Introduction to Lock-Free Programming_files/MathJax.js"></script>

  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-44017752-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


<script type="text/javascript" src="./An Introduction to Lock-Free Programming_files/genericCommentWrapper2.php"></script><style type="text/css">.MathJax_Hover_Frame {border-radius: .25em; -webkit-border-radius: .25em; -moz-border-radius: .25em; -khtml-border-radius: .25em; box-shadow: 0px 0px 15px #83A; -webkit-box-shadow: 0px 0px 15px #83A; -moz-box-shadow: 0px 0px 15px #83A; -khtml-box-shadow: 0px 0px 15px #83A; border: 1px solid #A6D ! important; display: inline-block; position: absolute}
.MathJax_Menu_Button .MathJax_Hover_Arrow {position: absolute; cursor: pointer; display: inline-block; border: 2px solid #AAA; border-radius: 4px; -webkit-border-radius: 4px; -moz-border-radius: 4px; -khtml-border-radius: 4px; font-family: 'Courier New',Courier; font-size: 9px; color: #F0F0F0}
.MathJax_Menu_Button .MathJax_Hover_Arrow span {display: block; background-color: #AAA; border: 1px solid; border-radius: 3px; line-height: 0; padding: 4px}
.MathJax_Hover_Arrow:hover {color: white!important; border: 2px solid #CCC!important}
.MathJax_Hover_Arrow:hover span {background-color: #CCC!important}
</style><style type="text/css">#MathJax_About {position: fixed; left: 50%; width: auto; text-align: center; border: 3px outset; padding: 1em 2em; background-color: #DDDDDD; color: black; cursor: default; font-family: message-box; font-size: 120%; font-style: normal; text-indent: 0; text-transform: none; line-height: normal; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; z-index: 201; border-radius: 15px; -webkit-border-radius: 15px; -moz-border-radius: 15px; -khtml-border-radius: 15px; box-shadow: 0px 10px 20px #808080; -webkit-box-shadow: 0px 10px 20px #808080; -moz-box-shadow: 0px 10px 20px #808080; -khtml-box-shadow: 0px 10px 20px #808080; filter: progid:DXImageTransform.Microsoft.dropshadow(OffX=2, OffY=2, Color='gray', Positive='true')}
#MathJax_About.MathJax_MousePost {outline: none}
.MathJax_Menu {position: absolute; background-color: white; color: black; width: auto; padding: 5px 0px; border: 1px solid #CCCCCC; margin: 0; cursor: default; font: menu; text-align: left; text-indent: 0; text-transform: none; line-height: normal; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; z-index: 201; border-radius: 5px; -webkit-border-radius: 5px; -moz-border-radius: 5px; -khtml-border-radius: 5px; box-shadow: 0px 10px 20px #808080; -webkit-box-shadow: 0px 10px 20px #808080; -moz-box-shadow: 0px 10px 20px #808080; -khtml-box-shadow: 0px 10px 20px #808080; filter: progid:DXImageTransform.Microsoft.dropshadow(OffX=2, OffY=2, Color='gray', Positive='true')}
.MathJax_MenuItem {padding: 1px 2em; background: transparent}
.MathJax_MenuArrow {position: absolute; right: .5em; padding-top: .25em; color: #666666; font-size: .75em}
.MathJax_MenuActive .MathJax_MenuArrow {color: white}
.MathJax_MenuArrow.RTL {left: .5em; right: auto}
.MathJax_MenuCheck {position: absolute; left: .7em}
.MathJax_MenuCheck.RTL {right: .7em; left: auto}
.MathJax_MenuRadioCheck {position: absolute; left: .7em}
.MathJax_MenuRadioCheck.RTL {right: .7em; left: auto}
.MathJax_MenuLabel {padding: 1px 2em 3px 1.33em; font-style: italic}
.MathJax_MenuRule {border-top: 1px solid #DDDDDD; margin: 4px 3px}
.MathJax_MenuDisabled {color: GrayText}
.MathJax_MenuActive {background-color: #606872; color: white}
.MathJax_MenuDisabled:focus, .MathJax_MenuLabel:focus {background-color: #E8E8E8}
.MathJax_ContextMenu:focus {outline: none}
.MathJax_ContextMenu .MathJax_MenuItem:focus {outline: none}
#MathJax_AboutClose {top: .2em; right: .2em}
.MathJax_Menu .MathJax_MenuClose {top: -10px; left: -10px}
.MathJax_MenuClose {position: absolute; cursor: pointer; display: inline-block; border: 2px solid #AAA; border-radius: 18px; -webkit-border-radius: 18px; -moz-border-radius: 18px; -khtml-border-radius: 18px; font-family: 'Courier New',Courier; font-size: 24px; color: #F0F0F0}
.MathJax_MenuClose span {display: block; background-color: #AAA; border: 1.5px solid; border-radius: 18px; -webkit-border-radius: 18px; -moz-border-radius: 18px; -khtml-border-radius: 18px; line-height: 0; padding: 8px 0 6px}
.MathJax_MenuClose:hover {color: white!important; border: 2px solid #CCC!important}
.MathJax_MenuClose:hover span {background-color: #CCC!important}
.MathJax_MenuClose:hover:focus {outline: none}
</style><style type="text/css">.MathJax_Preview .MJXf-math {color: inherit!important}
</style><style type="text/css">.MJX_Assistive_MathML {position: absolute!important; top: 0; left: 0; clip: rect(1px, 1px, 1px, 1px); padding: 1px 0 0 0!important; border: 0!important; height: 1px!important; width: 1px!important; overflow: hidden!important; display: block!important; -webkit-touch-callout: none; -webkit-user-select: none; -khtml-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none}
.MJX_Assistive_MathML.MJX_Assistive_MathML_Block {width: 100%!important}
</style><style type="text/css">#MathJax_Zoom {position: absolute; background-color: #F0F0F0; overflow: auto; display: block; z-index: 301; padding: .5em; border: 1px solid black; margin: 0; font-weight: normal; font-style: normal; text-align: left; text-indent: 0; text-transform: none; line-height: normal; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; -webkit-box-sizing: content-box; -moz-box-sizing: content-box; box-sizing: content-box; box-shadow: 5px 5px 15px #AAAAAA; -webkit-box-shadow: 5px 5px 15px #AAAAAA; -moz-box-shadow: 5px 5px 15px #AAAAAA; -khtml-box-shadow: 5px 5px 15px #AAAAAA; filter: progid:DXImageTransform.Microsoft.dropshadow(OffX=2, OffY=2, Color='gray', Positive='true')}
#MathJax_ZoomOverlay {position: absolute; left: 0; top: 0; z-index: 300; display: inline-block; width: 100%; height: 100%; border: 0; padding: 0; margin: 0; background-color: white; opacity: 0; filter: alpha(opacity=0)}
#MathJax_ZoomFrame {position: relative; display: inline-block; height: 0; width: 0}
#MathJax_ZoomEventTrap {position: absolute; left: 0; top: 0; z-index: 302; display: inline-block; border: 0; padding: 0; margin: 0; background-color: white; opacity: 0; filter: alpha(opacity=0)}
</style><style type="text/css">.MathJax_Preview {color: #888}
#MathJax_Message {position: fixed; left: 1em; bottom: 1.5em; background-color: #E6E6E6; border: 1px solid #959595; margin: 0px; padding: 2px 8px; z-index: 102; color: black; font-size: 80%; width: auto; white-space: nowrap}
#MathJax_MSIE_Frame {position: absolute; top: 0; left: 0; width: 0px; z-index: 101; border: 0px; margin: 0px; padding: 0px}
.MathJax_Error {color: #CC0000; font-style: italic}
</style><link rel="stylesheet" href="./An Introduction to Lock-Free Programming_files/idcCSS.php" type="text/css"><style type="text/css">.MJXp-script {font-size: .8em}
.MJXp-right {-webkit-transform-origin: right; -moz-transform-origin: right; -ms-transform-origin: right; -o-transform-origin: right; transform-origin: right}
.MJXp-bold {font-weight: bold}
.MJXp-italic {font-style: italic}
.MJXp-scr {font-family: MathJax_Script,'Times New Roman',Times,STIXGeneral,serif}
.MJXp-frak {font-family: MathJax_Fraktur,'Times New Roman',Times,STIXGeneral,serif}
.MJXp-sf {font-family: MathJax_SansSerif,'Times New Roman',Times,STIXGeneral,serif}
.MJXp-cal {font-family: MathJax_Caligraphic,'Times New Roman',Times,STIXGeneral,serif}
.MJXp-mono {font-family: MathJax_Typewriter,'Times New Roman',Times,STIXGeneral,serif}
.MJXp-largeop {font-size: 150%}
.MJXp-largeop.MJXp-int {vertical-align: -.2em}
.MJXp-math {display: inline-block; line-height: 1.2; text-indent: 0; font-family: 'Times New Roman',Times,STIXGeneral,serif; white-space: nowrap; border-collapse: collapse}
.MJXp-display {display: block; text-align: center; margin: 1em 0}
.MJXp-math span {display: inline-block}
.MJXp-box {display: block!important; text-align: center}
.MJXp-box:after {content: " "}
.MJXp-rule {display: block!important; margin-top: .1em}
.MJXp-char {display: block!important}
.MJXp-mo {margin: 0 .15em}
.MJXp-mfrac {margin: 0 .125em; vertical-align: .25em}
.MJXp-denom {display: inline-table!important; width: 100%}
.MJXp-denom > * {display: table-row!important}
.MJXp-surd {vertical-align: top}
.MJXp-surd > * {display: block!important}
.MJXp-script-box > *  {display: table!important; height: 50%}
.MJXp-script-box > * > * {display: table-cell!important; vertical-align: top}
.MJXp-script-box > *:last-child > * {vertical-align: bottom}
.MJXp-script-box > * > * > * {display: block!important}
.MJXp-mphantom {visibility: hidden}
.MJXp-munderover {display: inline-table!important}
.MJXp-over {display: inline-block!important; text-align: center}
.MJXp-over > * {display: block!important}
.MJXp-munderover > * {display: table-row!important}
.MJXp-mtable {vertical-align: .25em; margin: 0 .125em}
.MJXp-mtable > * {display: inline-table!important; vertical-align: middle}
.MJXp-mtr {display: table-row!important}
.MJXp-mtd {display: table-cell!important; text-align: center; padding: .5em 0 0 .5em}
.MJXp-mtr > .MJXp-mtd:first-child {padding-left: 0}
.MJXp-mtr:first-child > .MJXp-mtd {padding-top: 0}
.MJXp-mlabeledtr {display: table-row!important}
.MJXp-mlabeledtr > .MJXp-mtd:first-child {padding-left: 0}
.MJXp-mlabeledtr:first-child > .MJXp-mtd {padding-top: 0}
.MJXp-merror {background-color: #FFFF88; color: #CC0000; border: 1px solid #CC0000; padding: 1px 3px; font-style: normal; font-size: 90%}
.MJXp-scale0 {-webkit-transform: scaleX(.0); -moz-transform: scaleX(.0); -ms-transform: scaleX(.0); -o-transform: scaleX(.0); transform: scaleX(.0)}
.MJXp-scale1 {-webkit-transform: scaleX(.1); -moz-transform: scaleX(.1); -ms-transform: scaleX(.1); -o-transform: scaleX(.1); transform: scaleX(.1)}
.MJXp-scale2 {-webkit-transform: scaleX(.2); -moz-transform: scaleX(.2); -ms-transform: scaleX(.2); -o-transform: scaleX(.2); transform: scaleX(.2)}
.MJXp-scale3 {-webkit-transform: scaleX(.3); -moz-transform: scaleX(.3); -ms-transform: scaleX(.3); -o-transform: scaleX(.3); transform: scaleX(.3)}
.MJXp-scale4 {-webkit-transform: scaleX(.4); -moz-transform: scaleX(.4); -ms-transform: scaleX(.4); -o-transform: scaleX(.4); transform: scaleX(.4)}
.MJXp-scale5 {-webkit-transform: scaleX(.5); -moz-transform: scaleX(.5); -ms-transform: scaleX(.5); -o-transform: scaleX(.5); transform: scaleX(.5)}
.MJXp-scale6 {-webkit-transform: scaleX(.6); -moz-transform: scaleX(.6); -ms-transform: scaleX(.6); -o-transform: scaleX(.6); transform: scaleX(.6)}
.MJXp-scale7 {-webkit-transform: scaleX(.7); -moz-transform: scaleX(.7); -ms-transform: scaleX(.7); -o-transform: scaleX(.7); transform: scaleX(.7)}
.MJXp-scale8 {-webkit-transform: scaleX(.8); -moz-transform: scaleX(.8); -ms-transform: scaleX(.8); -o-transform: scaleX(.8); transform: scaleX(.8)}
.MJXp-scale9 {-webkit-transform: scaleX(.9); -moz-transform: scaleX(.9); -ms-transform: scaleX(.9); -o-transform: scaleX(.9); transform: scaleX(.9)}
.MathJax_PHTML .noError {vertical-align: ; font-size: 90%; text-align: left; color: black; padding: 1px 3px; border: 1px solid}
</style><script src="./An Introduction to Lock-Free Programming_files/comment-func.php" type="text/javascript"></script><script src="./An Introduction to Lock-Free Programming_files/remote-login.php" type="text/javascript"></script></head>

<body><div id="MathJax_Message" style="display: none;"></div>
  <header role="banner"><hgroup>
  <h1><a href="https://preshing.com/"><img src="./An Introduction to Lock-Free Programming_files/header.png" alt="Preshing on Programming">Preshing on Programming</a></h1>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="https://twitter.com/preshing" rel="follow-twitter" title="Follow on Twitter">Twitter</a></li>
  <li><a href="https://preshing.com/feed" rel="subscribe-rss" title="Subscribe via RSS">RSS</a></li>
  
</ul>
  
<fieldset class="mobile-nav"><select><option value="">Navigate…</option><option value="https://preshing.com/">» Blog</option><option value="https://preshing.com/archives">» Archives</option><option value="https://preshing.com/about">» About</option><option value="https://preshing.com/contact">» Contact</option><option value="https://preshing.com/tip-jar">» Tip Jar</option><option value="https://twitter.com/preshing">» Twitter</option><option value="https://preshing.com/feed">» RSS</option></select></fieldset><ul class="main-navigation">
  <li><a href="https://preshing.com/">Blog</a></li>
  <li><a href="https://preshing.com/archives">Archives</a></li>
  <li><a href="https://preshing.com/about">About</a></li>
<li><a href="https://preshing.com/contact">Contact</a></li>
  <li><a href="https://preshing.com/tip-jar">Tip Jar</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div>
<article class="hentry" role="article">
  
  <header>
    
      <p class="meta">
        








  


<time datetime="2012-06-12T07:06:51-04:00" pubdate="" data-updated="true">Jun 12, 2012</time>
        
      </p>
    
    
      <h1 class="entry-title">An Introduction to Lock-Free Programming</h1>
    
  </header>


<div class="entry-content"><p>Lock-free programming is a challenge, not just because of the complexity of the task itself, but because of how difficult it can be to penetrate the subject in the first place.</p>

<p>I was fortunate in that my first introduction to lock-free (also known as lockless) programming was Bruce Dawson’s excellent and comprehensive white paper, <a href="http://msdn.microsoft.com/en-us/library/windows/desktop/ee418650(v=vs.85).aspx">Lockless Programming Considerations</a>. And like many, I’ve had the occasion to put Bruce’s advice into practice developing and debugging lock-free code on platforms such as the Xbox 360.</p>

<p>Since then, a lot of good material has been written, ranging from abstract theory and proofs of correctness to practical examples and hardware details. I’ll leave a list of references in the footnotes. At times, the information in one source may appear orthogonal to other sources: For instance, some material assumes <a href="http://en.wikipedia.org/wiki/Sequential_consistency">sequential consistency</a>, and thus sidesteps the memory ordering issues which typically plague lock-free C/C++ code. The new <a href="http://en.cppreference.com/w/cpp/atomic">C++11 atomic library standard</a> throws another wrench into the works, challenging the way many of us express lock-free algorithms.</p>

<p>In this post, I’d like to re-introduce lock-free programming, first by defining it, then by distilling most of the information down to a few key concepts. I’ll show how those concepts relate to one another using flowcharts, then we’ll dip our toes into the details a little bit. At a minimum, any programmer who dives into lock-free programming should already understand how to write correct multithreaded code using mutexes, and other high-level synchronization objects such as semaphores and events.</p>

<h2 id="what-is-it">What Is It?</h2>

<p>People often describe lock-free programming as programming without mutexes, which are also referred to as <a href="http://preshing.com/20111118/locks-arent-slow-lock-contention-is">locks</a>. That’s true, but it’s only part of the story. The generally accepted definition, based on academic literature, is a bit more broad. At its essence, lock-free is a property used to describe some code, without saying too much about how that code was actually written.</p>

<!-- more -->
<p>Basically, if some part of your program satisfies the following conditions, then that part can rightfully be considered lock-free. Conversely, if a given part of your code doesn’t satisfy these conditions, then that part is not lock-free.</p>

<p><img class="center" src="./An Introduction to Lock-Free Programming_files/its-lock-free.png"></p>

<p>In this sense, the <em>lock</em> in lock-free does not refer directly to mutexes, but rather to the possibility of “locking up” the entire application in some way, whether it’s deadlock, livelock – or even due to hypothetical thread scheduling decisions made by your worst enemy. That last point sounds funny, but it’s key. Shared mutexes are ruled out trivially, because as soon as one thread obtains the mutex, your worst enemy could simply never schedule that thread again. Of course, real operating systems don’t work that way – we’re merely defining terms.</p>

<p>Here’s a simple example of an operation which contains no mutexes, but is still not lock-free. Initially, X = 0. As an exercise for the reader, consider how two threads could be scheduled in a way such that neither thread exits the loop.</p>

<div><div class="CodeRay">
  <div class="code"><pre><span class="keyword">while</span> (X == <span class="integer">0</span>)
{
    X = <span class="integer">1</span> - X;
}
</pre></div>
</div>
</div>

<p>Nobody expects a large application to be entirely lock-free. Typically, we identify a specific set of lock-free operations out of the whole codebase. For example, in a lock-free queue, there might be a handful of lock-free operations such as <code>push</code>, <code>pop</code>, perhaps <code>isEmpty</code>, and so on.</p>

<p><a href="http://www.amazon.com/gp/product/0123973376/ref=as_li_ss_tl?ie=UTF8&amp;tag=preshonprogr-20&amp;linkCode=as2&amp;camp=1789&amp;creative=390957&amp;creativeASIN=0123973376"><img class="right" src="./An Introduction to Lock-Free Programming_files/art-of-multiprocessor.png"></a>Herlihy &amp; Shavit, authors of <a href="http://www.amazon.com/gp/product/0123973376/ref=as_li_ss_tl?ie=UTF8&amp;tag=preshonprogr-20&amp;linkCode=as2&amp;camp=1789&amp;creative=390957&amp;creativeASIN=0123973376">The Art of Multiprocessor Programming</a><img class="right" src="./An Introduction to Lock-Free Programming_files/ir">, tend to express such operations as class methods, and offer the following succinct definition of lock-free (see <a href="https://docs.google.com/viewer?a=v&amp;q=cache:HaWgz4g5e7QJ:www.elsevierdirect.com/companions/9780123705914/Lecture%2520Slides/05~Chapter_05.ppt+&amp;hl=en&amp;gl=ca&amp;pid=bl&amp;srcid=ADGEESghbD6JBTSkCnlPP8ZjPwxS2kM6bbvEGUJaHozCN1CGYW0hnR0WkwmG7LvVj5BUOYZTfTXUClM7uXmr-nXPYlOvZulPJMgYXHaXqqo_m9qkn38gw8qMn01tFoxTmTkvjalHzQOB&amp;sig=AHIEtbRChU00kpYARLAr5Cv5Z5aB2NLo5w">slide 150</a>): “In an infinite execution, infinitely often some method call finishes.” In other words, as long as the program is able to keep <em>calling</em> those lock-free operations, the number of <em>completed</em> calls keeps increasing, no matter what. It is algorithmically impossible for the system to lock up during those operations.</p>

<p>One important consequence of lock-free programming is that if you suspend a single thread, it will never prevent other threads from making progress, as a group, through their own lock-free operations. This hints at the value of lock-free programming when writing interrupt handlers and real-time systems, where certain tasks must complete within a certain time limit, no matter what state the rest of the program is in.</p>

<p>A final precision: Operations that are <em>designed</em> to block do not disqualify the algorithm. For example, a queue’s pop operation may intentionally block when the queue is empty. The remaining codepaths can still be considered lock-free.</p>

<h2 id="lock-free-programming-techniques">Lock-Free Programming Techniques</h2>

<p>It turns out that when you attempt to satisfy the non-blocking condition of lock-free programming, a whole family of techniques fall out: atomic operations, memory barriers, avoiding the ABA problem, to name a few. This is where things quickly become diabolical.</p>

<p>So how do these techniques relate to one another? To illustrate, I’ve put together the following flowchart. I’ll elaborate on each one below.</p>

<p><img class="center" src="./An Introduction to Lock-Free Programming_files/techniques.png"></p>

<h3 id="atomic-read-modify-write-operations">Atomic Read-Modify-Write Operations</h3>

<p>Atomic operations are ones which manipulate memory in a way that appears indivisible: No thread can observe the operation half-complete. On modern processors, lots of operations are already atomic. For example, aligned reads and writes of simple types are usually atomic.</p>

<p><img class="right" src="./An Introduction to Lock-Free Programming_files/rmw-turnstile-2.png"><a href="http://en.wikipedia.org/wiki/Read-modify-write">Read-modify-write</a> (RMW) operations go a step further, allowing you to perform more complex transactions atomically. They’re especially useful when a lock-free algorithm must support multiple writers, because when multiple threads attempt an RMW on the same address, they’ll effectively line up in a row and execute those operations one-at-a-time. I’ve already touched upon RMW operations in this blog, such as when implementing a <a href="http://preshing.com/20120226/roll-your-own-lightweight-mutex">lightweight mutex</a>, a <a href="http://preshing.com/20120305/implementing-a-recursive-mutex">recursive mutex</a> and a <a href="http://preshing.com/20120522/lightweight-in-memory-logging">lightweight logging system</a>.</p>

<p>Examples of RMW operations include <a href="http://msdn.microsoft.com/en-us/library/2ddez55b(v=vs.90).aspx"><code>_InterlockedIncrement</code></a> on Win32, <a href="http://developer.apple.com/library/ios/#DOCUMENTATION/System/Conceptual/ManPages_iPhoneOS/man3/OSAtomicAdd32.3.html"><code>OSAtomicAdd32</code></a> on iOS, and <a href="http://www.stdthread.co.uk/doc/headers/atomic/atomic/specializations/integral/fetch_add.html"><code>std::atomic&lt;int&gt;::fetch_add</code></a> in C++11. Be aware that the C++11 atomic standard does not guarantee that the implementation will be lock-free on every platform, so it’s best to know the capabilities of your platform and toolchain. You can call <a href="http://www.stdthread.co.uk/doc/headers/atomic/atomic/specializations/integral/is_lock_free.html"><code>std::atomic&lt;&gt;::is_lock_free</code></a> to make sure.</p>

<p>Different CPU families <a href="http://jfdube.wordpress.com/2011/11/30/understanding-atomic-operations/">support RMW in different ways</a>. Processors such as PowerPC and ARM expose <a href="http://en.wikipedia.org/wiki/Load-link/store-conditional">load-link/store-conditional</a> instructions, which effectively allow you to implement your own RMW primitive at a low level, though this is not often done. The common RMW operations are usually sufficient.</p>

<p>As illustrated by the flowchart, atomic RMWs are a necessary part of lock-free programming even on single-processor systems. Without atomicity, a thread could be interrupted halfway through the transaction, possibly leading to an inconsistent state.</p>

<h3 id="compare-and-swap-loops">Compare-And-Swap Loops</h3>

<p>Perhaps the most often-discussed RMW operation is <a href="http://en.wikipedia.org/wiki/Compare-and-swap">compare-and-swap</a> (CAS). On Win32, CAS is provided via a family of intrinsics such as <a href="http://msdn.microsoft.com/en-us/library/ttk2z1ws.aspx"><code>_InterlockedCompareExchange</code></a>. Often, programmers perform compare-and-swap in a loop to repeatedly attempt a transaction. This pattern typically involves copying a shared variable to a local variable, performing some speculative work, and attempting to publish the changes using CAS:</p>

<div><div class="CodeRay">
  <div class="code"><pre><span class="directive">void</span> LockFreeQueue::push(Node* newHead)
{
    <span class="keyword">for</span> (;;)
    {
        <span class="comment">// Copy a shared variable (m_Head) to a local.</span>
        Node* oldHead = m_Head;

        <span class="comment">// Do some speculative work, not yet visible to other threads.</span>
        newHead-&gt;next = oldHead;

        <span class="comment">// Next, attempt to publish our changes to the shared variable.</span>
        <span class="comment">// If the shared variable hasn't changed, the CAS succeeds and we return.</span>
        <span class="comment">// Otherwise, repeat.</span>
        <span class="keyword">if</span> (_InterlockedCompareExchange(&amp;m_Head, newHead, oldHead) == oldHead)
            <span class="keyword">return</span>;
    }
}
</pre></div>
</div>
</div>

<p>Such loops still qualify as lock-free, because if the test fails for one thread, it means it must have succeeded for another – though some architectures offer a <a href="http://www.open-std.org/jtc1/sc22/wg21/docs/papers/2008/n2748.html">weaker variant of CAS</a> where that’s not necessarily true. Whenever implementing a CAS loop, special care must be taken to avoid the <a href="http://en.wikipedia.org/wiki/ABA_problem">ABA problem</a>.</p>

<h3 id="sequential-consistency">Sequential Consistency</h3>

<p>Sequential consistency means that all threads agree on the order in which memory operations occurred, and that order is consistent with the order of operations in the program source code. Under sequential consistency, it’s impossible to experience memory reordering shenanigans like <a href="http://preshing.com/20120515/memory-reordering-caught-in-the-act">the one I demonstrated in a previous post</a>.</p>

<p>A simple (but obviously impractical) way to achieve sequential consistency is to disable compiler optimizations and force all your threads to run on a single processor. A processor never sees its own memory effects out of order, even when threads are pre-empted and scheduled at arbitrary times.</p>

<p>Some programming languages offer sequentially consistency even for optimized code running in a multiprocessor environment. In C++11, you can declare all shared variables as C++11 atomic types with default memory ordering constraints. In Java, you can mark all shared variables as <code>volatile</code>. Here’s the example from my <a href="http://preshing.com/20120515/memory-reordering-caught-in-the-act">previous post</a>, rewritten in C++11 style:</p>

<div><div class="CodeRay">
  <div class="code"><pre>std::atomic&lt;<span class="predefined-type">int</span>&gt; X(<span class="integer">0</span>), Y(<span class="integer">0</span>);
<span class="predefined-type">int</span> r1, r2;

<span class="directive">void</span> thread1()
{
    X.store(<span class="integer">1</span>);
    r1 = Y.load();
}

<span class="directive">void</span> thread2()
{
    Y.store(<span class="integer">1</span>);
    r2 = X.load();
}
</pre></div>
</div>
</div>

<p>Because the C++11 atomic types guarantee sequential consistency, the outcome r1 = r2 = 0 is impossible. To achieve this, the compiler outputs additional instructions behind the scenes – typically memory fences and/or RMW operations. Those additional instructions may make the implementation less efficient compared to one where the programmer has dealt with memory ordering directly.</p>

<h3 id="memory-ordering">Memory Ordering</h3>

<p>As the flowchart suggests, any time you do lock-free programming for multicore (or any <a href="http://en.wikipedia.org/wiki/Symmetric_multiprocessing">symmetric multiprocessor</a>), and your environment does not guarantee sequential consistency, you must consider how to prevent <a href="http://preshing.com/20120515/memory-reordering-caught-in-the-act">memory reordering</a>.</p>

<p>On today’s architectures, the tools to enforce correct memory ordering generally fall into three categories, which prevent both <a href="http://preshing.com/20120625/memory-ordering-at-compile-time">compiler reordering</a> and <a href="http://preshing.com/20120710/memory-barriers-are-like-source-control-operations">processor reordering</a>:</p>

<ul>
  <li>A lightweight sync or fence instruction, which I’ll talk about in <a href="http://preshing.com/20120913/acquire-and-release-semantics">future posts</a>;</li>
  <li>A full memory fence instruction, which I’ve <a href="http://preshing.com/20120522/lightweight-in-memory-logging">demonstrated previously</a>;</li>
  <li>Memory operations which provide acquire or release semantics.</li>
</ul>

<p>Acquire semantics prevent memory reordering of operations which follow it in program order, and release semantics prevent memory reordering of operations preceding it. These semantics are particularly suitable in cases when there’s a producer/consumer relationship, where one thread publishes some information and the other reads it. I’ll also talk about this more in a <a href="http://preshing.com/20120913/acquire-and-release-semantics">future post</a>.</p>

<h3 id="different-processors-have-different-memory-models">Different Processors Have Different Memory Models</h3>

<p><a href="http://www.linuxjournal.com/node/8212/print">Different CPU families have different habits</a> when it comes to memory reordering. The rules are documented by each CPU vendor and followed strictly by the hardware. For instance, PowerPC and ARM processors can change the order of memory stores relative to the instructions themselves, but normally, the x86/64 family of processors from Intel and AMD do not. We say the former processors have a more <a href="http://preshing.com/20120930/weak-vs-strong-memory-models">relaxed memory model</a>.</p>

<p>There’s a temptation to abstract away such platform-specific details, especially with C++11 offering us a standard way to write portable lock-free code. But currently, I think most lock-free programmers have at least some appreciation of platform differences. If there’s one key difference to remember, it’s that at the x86/64 instruction level, every load from memory comes with acquire semantics, and every store to memory provides release semantics – at least for non-SSE instructions and non-write-combined memory. As a result, it’s been common in the past to write lock-free code which works on x86/64, but <a href="http://www.drdobbs.com/parallel/208801974">fails on other processors</a>.</p>

<p>If you’re interested in the hardware details of how and why processors perform memory reordering, I’d recommend Appendix C of <a href="http://kernel.org/pub/linux/kernel/people/paulmck/perfbook/perfbook.2011.01.02a.pdf">Is Parallel Programming Hard</a>. In any case, keep in mind that memory reordering can also occur due to compiler reordering of instructions.</p>

<p>In this post, I haven’t said much about the practical side of lock-free programming, such as: When do we do it? How much do we really need? I also haven’t mentioned the importance of validating your lock-free algorithms. Nonetheless, I hope for some readers, this introduction has provided a basic familiarity with lock-free concepts, so you can proceed into the additional reading without feeling too bewildered. As usual, if you spot any inaccuracies, let me know in the comments.</p>

<p><em>[This article was featured in Issue #29 of <a href="http://hackermonthly.com/issue-29.html">Hacker Monthly</a>.]</em></p>

<h2 id="additional-references">Additional References</h2>

<ul>
  <li><a href="http://www.amazon.com/gp/product/1933988770/ref=as_li_ss_tl?ie=UTF8&amp;tag=preshonprogr-20&amp;linkCode=as2&amp;camp=1789&amp;creative=390957&amp;creativeASIN=1933988770"><img class="right" src="./An Introduction to Lock-Free Programming_files/concurrency-in-action.png"></a><a href="http://www.justsoftwaresolutions.co.uk/blog/">Anthony Williams’ blog</a> and his book, <a href="http://www.amazon.com/gp/product/1933988770/ref=as_li_ss_tl?ie=UTF8&amp;tag=preshonprogr-20&amp;linkCode=as2&amp;camp=1789&amp;creative=390957&amp;creativeASIN=1933988770">C++ Concurrency in Action</a><img class="right" src="./An Introduction to Lock-Free Programming_files/ir(1)"></li>
  <li><a href="http://www.1024cores.net/">Dmitriy V’jukov’s website</a> and various <a href="https://groups.google.com/forum/?fromgroups#!forum/lock-free">forum discussions</a></li>
  <li><a href="http://bartoszmilewski.com/">Bartosz Milewski’s blog</a></li>
  <li>Charles Bloom’s <a href="http://cbloomrants.blogspot.ca/2012/06/06-12-12-another-threading-post-index.html">Low-Level Threading series</a> on his blog</li>
  <li>Doug Lea’s <a href="http://g.oswego.edu/dl/jmm/cookbook.html">JSR-133 Cookbook</a></li>
  <li>Howells and McKenney’s <a href="http://www.kernel.org/doc/Documentation/memory-barriers.txt">memory-barriers.txt</a> document</li>
  <li>Hans Boehm’s <a href="http://www.hpl.hp.com/personal/Hans_Boehm/c++mm/">collection of links</a> about the C++11 memory model</li>
  <li>Herb Sutter’s <a href="http://www.gotw.ca/publications/">Effective Concurrency</a> series</li>
</ul>

</div>



  

  <footer>
    <p class="meta">
      
        <a class="basic-alignment left" href="https://preshing.com/20120522/lightweight-in-memory-logging" title="Previous Post: Lightweight In-Memory Logging">« Lightweight In-Memory Logging</a>
      
      
        <a class="basic-alignment right" href="https://preshing.com/20120625/memory-ordering-at-compile-time" title="Next Post: Memory Ordering at Compile Time">Memory Ordering at Compile Time »</a>
      
    </p>
  </footer>
</article>

<section>
<div id="comment-section">
<script>
var idcomments_acct = 'b741f3bade873745e10e70447d732c8c';
var idcomments_post_id = '3387';
var idcomments_post_url;
</script>
<span id="IDCommentsPostTitle" style="display:none"></span>
<div id="idc-container-parent" class=""><div id="idc-container" class="idc"><div id="IDCommentPopup" style="display: none;" class="idc-info"> <div> <div id="IDCommentPopupInner"> <a href="https://preshing.com/20120612/an-introduction-to-lock-free-programming/#" class="idc-close"><span>Close</span></a> <h6>Forgot password?</h6> <form> <label for="txtResolveEmail">Please put in your email:</label> <input class="idc-text" id="txtResolveEmail" type="text"> <a href="https://preshing.com/20120612/an-introduction-to-lock-free-programming/#" class="idc-btn_s"><span>Send me my password!</span></a> </form> <p class="idc-bottom"><a href="https://preshing.com/20120612/an-introduction-to-lock-free-programming/#">Close message</a></p> </div> <div class="idc-bottom"></div> </div> </div><div id="IDCommentsHead" class="idc-head"> <span id="IDCommentsHeadDivider" style="display:none"></span> <div class="idc-right"> <a href="javascript: showLogin();" id="IDCommentsHeadLogin" class="idc-head_tools-login"><span>Login</span><span class="idc-r"></span></a> <div class="idc-share" onmouseover="showFollowThisDiscussion();" onmouseout="hideFollowThisDiscussion();"> <div class="idc-share_inner" id="IDCommentsHeadFollowMenu" onmouseover="showFollowThisDiscussion();" onmouseout="hideFollowThisDiscussion();"> <ul class="idc-share-tabs" onmouseover="showFollowThisDiscussion();" onmouseout="hideFollowThisDiscussion();"> <li id="IDShareMenuPost" class="idc-sel"><a href="javascript: IDShowFollowPost();"><span>This blog post</span></a></li> <li id="IDShareMenuBlog"><a href="javascript: IDShowFollowBlog();"><span>All blog posts</span></a></li> </ul> <div id="divIdcSharePost" onmouseover="showFollowThisDiscussion();" onmouseout="hideFollowThisDiscussion();"> <p>Subscribe to this blog post's comments through...</p> <ul class="idc-share-list"> <li><a href="https://www.netvibes.com/subscribe.php?type=rss&amp;url=https://www.intensedebate.com/postRSS/197997863"><img id="IDCommentsShowNetvibes" width="91" height="17" border="0" alt="Add to netvibes"></a></li> <li><a href="https://add.my.yahoo.com/rss?url=https://www.intensedebate.com/postRSS/197997863"><img id="IDCommentsShowYahoo" border="0" alt="Add to My Yahoo!"></a></li> </ul> <ul class="idc-share-list"> <li><a href="https://fusion.google.com/add?source=atgs&amp;feedurl=https://www.intensedebate.com/postRSS/197997863"><img id="IDCommentsShowGoogle" border="0" alt="Add to Google"></a></li> <li><a href="https://my.msn.com/addtomymsn.armx?id=rss&amp;ut=https://www.intensedebate.com/postRSS/197997863"><img id="IDCommentsShowMsn" border="0" style="width: 92px; height: 17px;" alt="Add to Microsoft Live"></a></li> </ul> <p class="idc-b"><a href="https://www.intensedebate.com/postRSS/197997863"><img id="IDCommentsShowRss" alt="RSS Icon"> RSS Feed</a></p> <div class="idc-subscribe-email"> <p><strong>Subscribe via email</strong></p> <span id="IDCSubscribeSpan0"><input type="text" value="Email Address" id="IDCSubscribeEmail0" class="idc-text" onfocus="this.style.color=&#39;#333&#39;;this.value=&#39;&#39;;" onblur="if(this.value==&#39;&#39;){this.style.color=&#39;#ccc&#39;;this.value=&#39;Email Address&#39;;}"></span> <span id="IDCSubscribeSubmit0"><a class="idc-btn_s" href="javascript:IDCSubscribeByEmail(0);"><span></span><span class="idc-r">Subscribe</span></a> </span> </div> </div> <div id="divIdcShareBlog" style="display:none" onmouseover="showFollowThisDiscussion();" onmouseout="hideFollowThisDiscussion();"> <p>Subscribe to this blog's comments through...</p> <ul class="idc-share-list"> <li><a href="https://www.netvibes.com/subscribe.php?type=rss&amp;url=https://www.intensedebate.com/allBlogCommentsRSS/374386"><img id="IDCommentsShowNetvibes2" width="91" height="17" border="0" alt="Add to netvibes"></a></li> <li><a href="https://add.my.yahoo.com/rss?url=https://www.intensedebate.com/allBlogCommentsRSS/374386"><img border="0" alt="Add to My Yahoo!" id="IDCommentsShowYahoo2"></a></li> </ul> <ul class="idc-share-list"> <li><a href="https://fusion.google.com/add?source=atgs&amp;feedurl=https://www.intensedebate.com/allBlogCommentsRSS/374386"><img id="IDCommentsShowGoogle2" border="0" alt="Add to Google"></a></li> <li><a href="https://my.msn.com/addtomymsn.armx?id=rss&amp;ut=https://www.intensedebate.com/allBlogCommentsRSS/374386"><img border="0" id="IDCommentsShowMsn2" style="width: 92px; height: 17px;" alt="Add to Microsoft Live"></a></li> </ul> <p class="idc-b"><a href="https://www.intensedebate.com/allBlogCommentsRSS/374386"><img alt="RSS Icon" id="IDCommentsShowRss2"> RSS Feed</a></p> <div class="idc-subscribe-email"> <p><strong>Subscribe via email</strong></p> <span id="IDCSubscribeSpan1"><input type="text" value="Email Address" id="IDCSubscribeEmail1" class="idc-text" onfocus="this.style.color=&#39;#333&#39;;this.value=&#39;&#39;;" onblur="if(this.value==&#39;&#39;){this.style.color=&#39;#ccc&#39;;this.value=&#39;Email Address&#39;;}"></span> <span id="IDCSubscribeSubmit1"><a class="idc-btn_s" href="javascript:IDCSubscribeByEmail(1);"><span></span><span class="idc-r">Subscribe</span></a> </span> </div> </div> </div> <a href="https://www.intensedebate.com/postRSS/197997863" class="idc-head_tools-share" title="https://www.intensedebate.com/postRSS/197997863" onmouseover="showFollowThisDiscussion();" onmouseout="hideFollowThisDiscussion();">Follow the discussion</a> </div> </div><h3><span id="idc-commentcount_label">Comments</span><span id="idc-commentcount_wrap"> (<span id="idc-commentcount">29</span>)</span></h3><input type="hidden" id="userid" value=""> <div class="idc-head_action idc-loggingin"> <span><img style="padding-right: 5px" src="./An Introduction to Lock-Free Programming_files/ajax-loader.gif" alt="Loading..."> Logging you in...</span> </div> <div class="idc-head_action idc-login" id="IDLoginPopup"> <form id="IDfrmHeaderLogin" method="post" action="https://www.intensedebate.com/login"> <a href="javascript: hideLoginSignup();" class="idc-close"><span>Close</span></a> <p><strong>Login to IntenseDebate</strong></p> <p>Or <a href="https://www.intensedebate.com/signup" class="snap_noshots" target="_blank">create an account</a></p> <div class="idc-columns"> <div class="idc-divide"> <label for="IDtxtLoginEmail">Username or Email:</label> </div> <div class="idc-divide"> <label for="IDtxtLoginPass">Password:</label> </div> <span class="idc-clear"></span> </div> <div class="idc-divide"> <input id="IDtxtLoginEmail" name="txtLoginEmail" value="" class="idc-text" onfocus="txtOnFocus(this, &#39;&#39;);" onblur="txtOnBlur(this, &#39;&#39;);" type="text"> </div> <div class="idc-divide"> <input id="IDtxtLoginPass" name="txtLoginPass" class="idc-text idc-password" onfocus="txtOnFocus(this, &#39;&#39;);" onblur="txtOnBlur(this, &#39;&#39;);" type="password"> <p class="idc-fade"><a href="javascript: showForgotPassword();" class="snap_noshots">Forgot login?</a></p> </div> <div class="idc-head_b"> <div class="idc-tools"> <a class="idc-btn_l-secondary" href="javascript: hideLoginSignup();"><span></span><span class="idc-r">Cancel</span></a> <a href="javascript: logUserIn();" class="idc-btn_l"><span></span><span class="idc-r"><strong>Login</strong></span></a> </div> </div> </form> </div> <div class="idc-head_action idc-wp-login" id="IDWPLoginPopup"> <form id="IDfrmHeaderWPLogin" method="post" action="https://www.intensedebate.com/wp-login.php"> <a href="javascript: hideLoginSignup();" class="idc-close"><span>Close</span></a> <span> <img src="./An Introduction to Lock-Free Programming_files/wordpress-logo.png" style="margin-bottom: -10px;"> <span style="font-size: 25px; padding-left: 5px; font-family: verdana,serif;">WordPress.com</span> </span> <div class="idc-columns" style="padding-top: 20px;"> <div class="idc-divide"> <label for="IDtxtWPLoginEmail">Username or Email:</label> </div> <div class="idc-divide"> <label for="IDtxtWPLoginPass">Password:</label> </div> <span class="idc-clear"></span> </div> <div class="idc-divide"> <input id="IDtxtWPLoginEmail" name="txtLoginEmail" value="" class="idc-text" onfocus="txtOnFocus(this, &#39;&#39;);" onblur="txtOnBlur(this, &#39;&#39;);" type="text"> </div> <div class="idc-divide"> <input id="IDtxtWPLoginPass" name="txtLoginPass" class="idc-text idc-password" onfocus="txtOnFocus(this, &#39;&#39;);" onblur="txtOnBlur(this, &#39;&#39;);" type="password"> <p class="idc-fade"><a href="https://wordpress.com/wp-login.php?action=lostpassword" target="_new" class="snap_noshots">Lost your password?</a></p> </div> <div class="idc-head_b"> <div class="idc-tools"> <input type="hidden" name="IDtxtWPIDSiteID" value="374386"> <a class="idc-btn_l-secondary" href="javascript: hideLoginSignup();"><span></span><span class="idc-r">Cancel</span></a> <a href="javascript: IDC.$(&#39;IDfrmHeaderWPLogin&#39;).submit()" class="idc-btn_l"><span></span><span class="idc-r"><strong>Login</strong></span></a> </div> </div> </form> </div> <div class="idc-head_action idc-user"> <div class="idc-right"> <a class="snap_noshots" href="https://www.intensedebate.com/userDash">Dashboard</a> <span class="idc-divider"><span>|</span></span> <a class="snap_noshots" href="https://www.intensedebate.com/editprofile">Edit profile</a> <span class="idc-divider"><span>|</span></span> <a class="snap_noshots" href="https://www.intensedebate.com/logout?_id_nonce=" id="idc-logout-link">Logout</a> </div> <div> <a id="IDCommentUserBarLink1" href="https://www.intensedebate.com/people/0" class="idc-a snap_noshots"></a> </div> <ul class="idc-user_i"> <li>Logged in as <a id="IDCommentUserBarLink2" class="snap_noshots" href="https://www.intensedebate.com/people/0"></a></li> </ul> <div class="idc-user_admin" id="idc-user_admin" style="display:none;"> <p><a href="javascript:showHideOpts();" id="IDAdminOptsLink" class="idc-collapselink_closed snap_noshots">Admin Options</a></p> <div id="showHideAdminOpts" style="display:none;"> <p> <input type="hidden" id="IDUserAdminVal" value="0"> <span onclick="javascript: changeDisabledLink();"><label for="chkDisableIDC" class="idc-nofloat"><input type="checkbox" id="chkDisableIDC" checked="1"> Disable comments for this page</label></span> </p><p><a id="adminOptions" class="idc-btn_s snap_noshots"><span></span><span class="idc-r" id="IDCSavedSettings">Save Settings</span></a></p> <p></p> </div> </div> </div> <div class="idc-toolbar" id="idc-toolbar"> <div id="idc-sortLinks"> <p>Sort by: <a id="IDSortLink1" href="javascript: sortComments(1);" class="idc-sel">Date</a> <a id="IDSortLink0" href="javascript: sortComments(0);">Rating</a> <a id="IDSortLink2" href="javascript: sortComments(2);">Last Activity</a></p> </div> <div id="idc-sortLinksLoading" style="display:none"> Loading comments... </div> </div><span class="idc-clear"></span> <div class="idc-message"> <strong>Commenting Disabled</strong><br> Further commenting on this page has been disabled by the blog admin. </div></div><div id="idc-cover" class="idc-comments">	<div class="idc-thread" id="IDThread721195459"><div id="IDComment721195459" class="idc-c idc-anonymous "><div class="idc-c-h"> <div class="idc-c-h-inner"> <div class="idc-v"> <span class="idc-v-total" id="IDCommentVoteScore721195459">+1</span> <a class="idc-v-up" href="javascript: voteComment(721195459, 1)"><span>Vote up</span></a> <a class="idc-v-down" href="javascript: voteComment(721195459, 0)"><span>Vote down</span></a> </div> <a href="http://leavesofliberty.wordpress.com/" class="idc-a"><img alt="&#39;s avatar - Go to profile" src="./An Introduction to Lock-Free Programming_files/5612e47c47cdbe5664360b130f7c884c" height="26" width="26" class="idc-avatar"> </a> <p class="idc-i"> <a href="http://leavesofliberty.wordpress.com/" rel="nofollow"> marris </a> <em class="idc-time">· <a title="Comment Permalink" href="https://preshing.com/20120612/an-introduction-to-lock-free-programming/#IDComment721195459" id="IDCommentTime721195459" class="IDCommentTime">359 weeks ago</a></em> </p> </div></div> <div id="IDCommentTop721195459" class="idc-c-t"> <div id="IDComment-CommentText721195459" class="idc-c-t-inner"> Fantastic article! <br> <br>The flow charts are very useful. I'm going to save copies. <br> <br>And the text explanations are top-notch! </div> </div> <div id="IDCommentBottom721195459" class="idc-c-b"> <div class="idc-right" id="IDCommentLinksRight721195459"> </div> <div id="IDCommentPostReplyLink721195459"> <span class="idc-btn_s"><span><input type="hidden" id="reqUsersOn" value="no"></span><span class="idc-r">Reply</span></span> </div> <span style="display: none" id="IDCommentCollapseLinkWrapper721195459"><a href="javascript: collapseThread(721195459);" id="IDCommentCollapseLink721195459" class="idc-collapselink">0 replies </a> <em class="idc-thread_active">· <span id="IDCommentThreadTime721195459" class="IDCommentThreadTimeRead">active 188 weeks ago</span></em></span> <span class="idc-clear"></span> </div></div><div id="IDCommentSubThread721195459" class="idc-thread"></div></div>	<div class="idc-thread" id="IDThread721195461"><div id="IDComment721195461" class="idc-c idc-anonymous "><div class="idc-c-h"> <div class="idc-c-h-inner"> <div class="idc-v"> <span class="idc-v-total" id="IDCommentVoteScore721195461">+1</span> <a class="idc-v-up" href="javascript: voteComment(721195461, 1)"><span>Vote up</span></a> <a class="idc-v-down" href="javascript: voteComment(721195461, 0)"><span>Vote down</span></a> </div> <span class="idc-a"><img alt="pikachu&#39;s avatar" src="./An Introduction to Lock-Free Programming_files/90f0581862acb90ef99b6345c729815d" height="26" width="26" class="idc-avatar"> </span> <p class="idc-i"> <span> pikachu </span> <em class="idc-time">· <a title="Comment Permalink" href="https://preshing.com/20120612/an-introduction-to-lock-free-programming/#IDComment721195461" id="IDCommentTime721195461" class="IDCommentTime">359 weeks ago</a></em> </p> </div></div> <div id="IDCommentTop721195461" class="idc-c-t"> <div id="IDComment-CommentText721195461" class="idc-c-t-inner"> Ever heard of CCommunicating Sequential Processes or Go programming language? </div> </div> <div id="IDCommentBottom721195461" class="idc-c-b"> <div class="idc-right" id="IDCommentLinksRight721195461"> </div> <div id="IDCommentPostReplyLink721195461"> <span class="idc-btn_s"><span><input type="hidden" id="reqUsersOn" value="no"></span><span class="idc-r">Reply</span></span> </div> <span style="display: none" id="IDCommentCollapseLinkWrapper721195461"><a href="javascript: collapseThread(721195461);" id="IDCommentCollapseLink721195461" class="idc-collapselink">0 replies </a> <em class="idc-thread_active">· <span id="IDCommentThreadTime721195461" class="IDCommentThreadTimeRead">active 293 weeks ago</span></em></span> <span class="idc-clear"></span> </div></div><div id="IDCommentSubThread721195461" class="idc-thread"></div></div>	<div class="idc-thread" id="IDThread721195463"><div id="IDComment721195463" class="idc-c idc-anonymous "><div class="idc-c-h"> <div class="idc-c-h-inner"> <div class="idc-v"> <span class="idc-v-total" id="IDCommentVoteScore721195463">+1</span> <a class="idc-v-up" href="javascript: voteComment(721195463, 1)"><span>Vote up</span></a> <a class="idc-v-down" href="javascript: voteComment(721195463, 0)"><span>Vote down</span></a> </div> <span class="idc-a"><img alt="extralongpants&#39;s avatar" src="./An Introduction to Lock-Free Programming_files/ba41e400e8b06384ccc9f8c58dd3d45f" height="26" width="26" class="idc-avatar"> </span> <p class="idc-i"> <span> extralongpants </span> <em class="idc-time">· <a title="Comment Permalink" href="https://preshing.com/20120612/an-introduction-to-lock-free-programming/#IDComment721195463" id="IDCommentTime721195463" class="IDCommentTime">359 weeks ago</a></em> </p> </div></div> <div id="IDCommentTop721195463" class="idc-c-t"> <div id="IDComment-CommentText721195463" class="idc-c-t-inner"> Thank you for taking the time to write this article. I found it informative and well written. The flow charts were a good idea. :) </div> </div> <div id="IDCommentBottom721195463" class="idc-c-b"> <div class="idc-right" id="IDCommentLinksRight721195463"> </div> <div id="IDCommentPostReplyLink721195463"> <span class="idc-btn_s"><span><input type="hidden" id="reqUsersOn" value="no"></span><span class="idc-r">Reply</span></span> </div> <span style="display: none" id="IDCommentCollapseLinkWrapper721195463"><a href="javascript: collapseThread(721195463);" id="IDCommentCollapseLink721195463" class="idc-collapselink">0 replies </a> <em class="idc-thread_active">· <span id="IDCommentThreadTime721195463" class="IDCommentThreadTimeRead">active 293 weeks ago</span></em></span> <span class="idc-clear"></span> </div></div><div id="IDCommentSubThread721195463" class="idc-thread"></div></div>	<div class="idc-thread" id="IDThread721195467"><div id="IDComment721195467" class="idc-c idc-anonymous "><div class="idc-c-h"> <div class="idc-c-h-inner"> <div class="idc-v"> <span class="idc-v-total" id="IDCommentVoteScore721195467">+1</span> <a class="idc-v-up" href="javascript: voteComment(721195467, 1)"><span>Vote up</span></a> <a class="idc-v-down" href="javascript: voteComment(721195467, 0)"><span>Vote down</span></a> </div> <span class="idc-a"><img alt="Wix&#39;s avatar" src="./An Introduction to Lock-Free Programming_files/03e68222ddea40cedf8ced64f0e46d02" height="26" width="26" class="idc-avatar"> </span> <p class="idc-i"> <span> Wix </span> <em class="idc-time">· <a title="Comment Permalink" href="https://preshing.com/20120612/an-introduction-to-lock-free-programming/#IDComment721195467" id="IDCommentTime721195467" class="IDCommentTime">359 weeks ago</a></em> </p> </div></div> <div id="IDCommentTop721195467" class="idc-c-t"> <div id="IDComment-CommentText721195467" class="idc-c-t-inner"> Excellent post! It's like an chapter of well written book. I can't wait to see future articles and in the mean time I'm going to read all the past ones. </div> </div> <div id="IDCommentBottom721195467" class="idc-c-b"> <div class="idc-right" id="IDCommentLinksRight721195467"> </div> <div id="IDCommentPostReplyLink721195467"> <span class="idc-btn_s"><span><input type="hidden" id="reqUsersOn" value="no"></span><span class="idc-r">Reply</span></span> </div> <a href="javascript: collapseThread(721195467);" id="IDCommentCollapseLink721195467" class="idc-collapselink">2 replies </a> <em class="idc-thread_active">· <span id="IDCommentThreadTime721195467" class="IDCommentThreadTimeRead">active 271 weeks ago</span></em> <span class="idc-clear"></span> </div></div><div id="IDCommentSubThread721195467" class="idc-thread"><div id="IDComment721195489" class="idc-c idc-anonymous "><div class="idc-c-h"> <div class="idc-c-h-inner"> <div class="idc-v"> <span class="idc-v-total" id="IDCommentVoteScore721195489">+1</span> <a class="idc-v-up" href="javascript: voteComment(721195489, 1)"><span>Vote up</span></a> <a class="idc-v-down" href="javascript: voteComment(721195489, 0)"><span>Vote down</span></a> </div> <a href="http://preshing.com/" class="idc-a"><img alt="&#39;s avatar - Go to profile" src="./An Introduction to Lock-Free Programming_files/61da29e47921b97570c793aaf39d8170.jpeg" height="26" width="26" class="idc-avatar"> </a> <p class="idc-i"> <a href="http://preshing.com/" rel="nofollow"> Jeff Preshing </a> <em class="idc-time">· <a title="Comment Permalink" href="https://preshing.com/20120612/an-introduction-to-lock-free-programming/#IDComment721195489" id="IDCommentTime721195489" class="IDCommentTime">359 weeks ago</a></em> </p> </div></div> <div id="IDCommentTop721195489" class="idc-c-t"> <div id="IDComment-CommentText721195489" class="idc-c-t-inner"> Thanks you guys. Glad people liked this one. I found it tough to write. </div> </div> <div id="IDCommentBottom721195489" class="idc-c-b"> <div class="idc-right" id="IDCommentLinksRight721195489"> </div> <div id="IDCommentPostReplyLink721195489"> <span class="idc-btn_s"><span><input type="hidden" id="reqUsersOn" value="no"></span><span class="idc-r">Reply</span></span> </div> <span class="idc-clear"></span> </div></div><div id="IDCommentSubThread721195489" class="idc-thread"><div id="IDComment797335005" class="idc-c idc-anonymous "><div class="idc-c-h"> <div class="idc-c-h-inner"> <div class="idc-v"> <span class="idc-v-total" id="IDCommentVoteScore797335005">+1</span> <a class="idc-v-up" href="javascript: voteComment(797335005, 1)"><span>Vote up</span></a> <a class="idc-v-down" href="javascript: voteComment(797335005, 0)"><span>Vote down</span></a> </div> <span class="idc-a"><img alt="Mairaaj&#39;s avatar" src="./An Introduction to Lock-Free Programming_files/b6a5b74a4bd98cf444359fc47f4fedd7" height="26" width="26" class="idc-avatar"> </span> <p class="idc-i"> <span> Mairaaj </span> <em class="idc-time">· <a title="Comment Permalink" href="https://preshing.com/20120612/an-introduction-to-lock-free-programming/#IDComment797335005" id="IDCommentTime797335005" class="IDCommentTime">271 weeks ago</a></em> </p> </div></div> <div id="IDCommentTop797335005" class="idc-c-t"> <div id="IDComment-CommentText797335005" class="idc-c-t-inner"> Most of the times Well written things are tough to write. Jazak Allah (may God reward you best) </div> </div> <div id="IDCommentBottom797335005" class="idc-c-b"> <div class="idc-right" id="IDCommentLinksRight797335005"> </div> <div id="IDCommentPostReplyLink797335005"> <span class="idc-btn_s"><span><input type="hidden" id="reqUsersOn" value="no"></span><span class="idc-r">Reply</span></span> </div> <span class="idc-clear"></span> </div></div><div id="IDCommentSubThread797335005" class="idc-thread"></div></div></div></div>	<div class="idc-thread" id="IDThread721195471"><div id="IDComment721195471" class="idc-c idc-anonymous "><div class="idc-c-h"> <div class="idc-c-h-inner"> <div class="idc-v"> <span class="idc-v-total" id="IDCommentVoteScore721195471">+1</span> <a class="idc-v-up" href="javascript: voteComment(721195471, 1)"><span>Vote up</span></a> <a class="idc-v-down" href="javascript: voteComment(721195471, 0)"><span>Vote down</span></a> </div> <span class="idc-a"><img alt="Ian&#39;s avatar" src="./An Introduction to Lock-Free Programming_files/8aeee449d6127277c7c85011093c5946" height="26" width="26" class="idc-avatar"> </span> <p class="idc-i"> <span> Ian </span> <em class="idc-time">· <a title="Comment Permalink" href="https://preshing.com/20120612/an-introduction-to-lock-free-programming/#IDComment721195471" id="IDCommentTime721195471" class="IDCommentTime">359 weeks ago</a></em> </p> </div></div> <div id="IDCommentTop721195471" class="idc-c-t"> <div id="IDComment-CommentText721195471" class="idc-c-t-inner"> A lock-free queue should never have a member called isEmpty(). It's a misleading name, since that condition can be fleeting and not relied on. A better name is wasEmpty(), which is a gentle reminder of this fact. </div> </div> <div id="IDCommentBottom721195471" class="idc-c-b"> <div class="idc-right" id="IDCommentLinksRight721195471"> </div> <div id="IDCommentPostReplyLink721195471"> <span class="idc-btn_s"><span><input type="hidden" id="reqUsersOn" value="no"></span><span class="idc-r">Reply</span></span> </div> <span style="display: none" id="IDCommentCollapseLinkWrapper721195471"><a href="javascript: collapseThread(721195471);" id="IDCommentCollapseLink721195471" class="idc-collapselink">0 replies </a> <em class="idc-thread_active">· <span id="IDCommentThreadTime721195471" class="IDCommentThreadTimeRead">active 293 weeks ago</span></em></span> <span class="idc-clear"></span> </div></div><div id="IDCommentSubThread721195471" class="idc-thread"></div></div>	<div class="idc-thread" id="IDThread721195473"><div id="IDComment721195473" class="idc-c idc-anonymous "><div class="idc-c-h"> <div class="idc-c-h-inner"> <div class="idc-v"> <span class="idc-v-total" id="IDCommentVoteScore721195473">+1</span> <a class="idc-v-up" href="javascript: voteComment(721195473, 1)"><span>Vote up</span></a> <a class="idc-v-down" href="javascript: voteComment(721195473, 0)"><span>Vote down</span></a> </div> <a href="http://agilewiki.org/" class="idc-a"><img alt="&#39;s avatar - Go to profile" src="./An Introduction to Lock-Free Programming_files/db375806cfcff6d02b4b0c7d29eeb756.jpeg" height="26" width="26" class="idc-avatar"> </a> <p class="idc-i"> <a href="http://agilewiki.org/" rel="nofollow"> William La Forge </a> <em class="idc-time">· <a title="Comment Permalink" href="https://preshing.com/20120612/an-introduction-to-lock-free-programming/#IDComment721195473" id="IDCommentTime721195473" class="IDCommentTime">359 weeks ago</a></em> </p> </div></div> <div id="IDCommentTop721195473" class="idc-c-t"> <div id="IDComment-CommentText721195473" class="idc-c-t-inner"> After working on the JActor project, this article feels so wrong-headed. Once you have ultra-high performance actors, it becomes clear that the problem all along was the focus on sharing state across threads--which you say is a prerequisite for lock-free programming. We just didn't have a workable alternative. </div> </div> <div id="IDCommentBottom721195473" class="idc-c-b"> <div class="idc-right" id="IDCommentLinksRight721195473"> </div> <div id="IDCommentPostReplyLink721195473"> <span class="idc-btn_s"><span><input type="hidden" id="reqUsersOn" value="no"></span><span class="idc-r">Reply</span></span> </div> <a href="javascript: collapseThread(721195473);" id="IDCommentCollapseLink721195473" class="idc-collapselink">4 replies </a> <em class="idc-thread_active">· <span id="IDCommentThreadTime721195473" class="IDCommentThreadTimeRead">active 293 weeks ago</span></em> <span class="idc-clear"></span> </div></div><div id="IDCommentSubThread721195473" class="idc-thread"><div id="IDComment721195475" class="idc-c idc-anonymous "><div class="idc-c-h"> <div class="idc-c-h-inner"> <div class="idc-v"> <span class="idc-v-total" id="IDCommentVoteScore721195475">+1</span> <a class="idc-v-up" href="javascript: voteComment(721195475, 1)"><span>Vote up</span></a> <a class="idc-v-down" href="javascript: voteComment(721195475, 0)"><span>Vote down</span></a> </div> <a href="http://preshing.com/" class="idc-a"><img alt="&#39;s avatar - Go to profile" src="./An Introduction to Lock-Free Programming_files/61da29e47921b97570c793aaf39d8170.jpeg" height="26" width="26" class="idc-avatar"> </a> <p class="idc-i"> <a href="http://preshing.com/" rel="nofollow"> Jeff Preshing </a> <em class="idc-time">· <a title="Comment Permalink" href="https://preshing.com/20120612/an-introduction-to-lock-free-programming/#IDComment721195475" id="IDCommentTime721195475" class="IDCommentTime">359 weeks ago</a></em> </p> </div></div> <div id="IDCommentTop721195475" class="idc-c-t"> <div id="IDComment-CommentText721195475" class="idc-c-t-inner"> Your JActor project uses <code>java.util.concurrent.ConcurrentLinkedQueue</code>. Thus, it too incorporates lock-free programming. </div> </div> <div id="IDCommentBottom721195475" class="idc-c-b"> <div class="idc-right" id="IDCommentLinksRight721195475"> </div> <div id="IDCommentPostReplyLink721195475"> <span class="idc-btn_s"><span><input type="hidden" id="reqUsersOn" value="no"></span><span class="idc-r">Reply</span></span> </div> <span class="idc-clear"></span> </div></div><div id="IDCommentSubThread721195475" class="idc-thread"><div id="IDComment721195477" class="idc-c idc-anonymous "><div class="idc-c-h"> <div class="idc-c-h-inner"> <div class="idc-v"> <span class="idc-v-total" id="IDCommentVoteScore721195477">+1</span> <a class="idc-v-up" href="javascript: voteComment(721195477, 1)"><span>Vote up</span></a> <a class="idc-v-down" href="javascript: voteComment(721195477, 0)"><span>Vote down</span></a> </div> <a href="http://agilewiki.org/" class="idc-a"><img alt="&#39;s avatar - Go to profile" src="./An Introduction to Lock-Free Programming_files/db375806cfcff6d02b4b0c7d29eeb756.jpeg" height="26" width="26" class="idc-avatar"> </a> <p class="idc-i"> <a href="http://agilewiki.org/" rel="nofollow"> William La Forge </a> <em class="idc-time">· <a title="Comment Permalink" href="https://preshing.com/20120612/an-introduction-to-lock-free-programming/#IDComment721195477" id="IDCommentTime721195477" class="IDCommentTime">359 weeks ago</a></em> </p> </div></div> <div id="IDCommentTop721195477" class="idc-c-t"> <div id="IDComment-CommentText721195477" class="idc-c-t-inner"> You are quite correct. There is also one semaphore in the implementation of the thread pool, but then it is important to block idle threads, eh? So applying your own reasoning and definitions, there is no such thing as a lock-free program. <br> <br>The real attention should be directed to the application logic. Once you have really fast actors to build on, in my experience, sharing state between threads is not an appropriate focus. Yeah, there are times when it is appropriate, but those are the exceptions. </div> </div> <div id="IDCommentBottom721195477" class="idc-c-b"> <div class="idc-right" id="IDCommentLinksRight721195477"> </div> <div id="IDCommentPostReplyLink721195477"> <span class="idc-btn_s"><span><input type="hidden" id="reqUsersOn" value="no"></span><span class="idc-r">Reply</span></span> </div> <span class="idc-clear"></span> </div></div><div id="IDCommentSubThread721195477" class="idc-thread"><div id="IDComment721195479" class="idc-c idc-anonymous "><div class="idc-c-h"> <div class="idc-c-h-inner"> <div class="idc-v"> <span class="idc-v-total" id="IDCommentVoteScore721195479">+1</span> <a class="idc-v-up" href="javascript: voteComment(721195479, 1)"><span>Vote up</span></a> <a class="idc-v-down" href="javascript: voteComment(721195479, 0)"><span>Vote down</span></a> </div> <a href="http://preshing.com/" class="idc-a"><img alt="&#39;s avatar - Go to profile" src="./An Introduction to Lock-Free Programming_files/61da29e47921b97570c793aaf39d8170.jpeg" height="26" width="26" class="idc-avatar"> </a> <p class="idc-i"> <a href="http://preshing.com/" rel="nofollow"> Jeff Preshing </a> <em class="idc-time">· <a title="Comment Permalink" href="https://preshing.com/20120612/an-introduction-to-lock-free-programming/#IDComment721195479" id="IDCommentTime721195479" class="IDCommentTime">359 weeks ago</a></em> </p> </div></div> <div id="IDCommentTop721195479" class="idc-c-t"> <div id="IDComment-CommentText721195479" class="idc-c-t-inner"> I wholeheartedly agree that sharing state between threads should not be encouraged! The same advice is given in Bruce Dawson's paper and elsewhere. Thanks for your comments. </div> </div> <div id="IDCommentBottom721195479" class="idc-c-b"> <div class="idc-right" id="IDCommentLinksRight721195479"> </div> <div id="IDCommentPostReplyLink721195479"> <span class="idc-btn_s"><span><input type="hidden" id="reqUsersOn" value="no"></span><span class="idc-r">Reply</span></span> </div> <span class="idc-clear"></span> </div></div><div id="IDCommentSubThread721195479" class="idc-thread"><div id="IDComment721195501" class="idc-c idc-anonymous "><div class="idc-c-h"> <div class="idc-c-h-inner"> <div class="idc-v"> <span class="idc-v-total" id="IDCommentVoteScore721195501">+1</span> <a class="idc-v-up" href="javascript: voteComment(721195501, 1)"><span>Vote up</span></a> <a class="idc-v-down" href="javascript: voteComment(721195501, 0)"><span>Vote down</span></a> </div> <a href="http://jactorconsulting.com/" class="idc-a"><img alt="&#39;s avatar - Go to profile" src="./An Introduction to Lock-Free Programming_files/db375806cfcff6d02b4b0c7d29eeb756.jpeg" height="26" width="26" class="idc-avatar"> </a> <p class="idc-i"> <a href="http://jactorconsulting.com/" rel="nofollow"> William La Forge </a> <em class="idc-time">· <a title="Comment Permalink" href="https://preshing.com/20120612/an-introduction-to-lock-free-programming/#IDComment721195501" id="IDCommentTime721195501" class="IDCommentTime">339 weeks ago</a></em> </p> </div></div> <div id="IDCommentTop721195501" class="idc-c-t"> <div id="IDComment-CommentText721195501" class="idc-c-t-inner"> I've actually come of late to a better understanding of a significant difference between JActor actors-- <a href="http://jactorconsulting.com/product/jactor/" target="_blank" rel="nofollow">http://jactorconsulting.com/product/jactor/</a> --and Scala actors, and that has to do with the elimination of intermediate or process state. <br> <br>In JActor you define a callback (usually an anonymous class) which is invoked on the requesting actor's "thread" when a response message is received. Member variables in this callback are the equivalent to method variables as they are not accessible when processing other incoming requests. <br> <br>Contrast this to Scala/Akka actors which use 1-way messages and which must use shared state for intermediate data and consequently must delay processing of other requests least this intermediate data be overwritten. <br> <br>With JActor then, actors do not have state that is shared across multiple requests except when that state is updated atomically. And I think that is key. </div> </div> <div id="IDCommentBottom721195501" class="idc-c-b"> <div class="idc-right" id="IDCommentLinksRight721195501"> </div> <div id="IDCommentPostReplyLink721195501"> <span class="idc-btn_s"><span><input type="hidden" id="reqUsersOn" value="no"></span><span class="idc-r">Reply</span></span> </div> <span class="idc-clear"></span> </div></div><div id="IDCommentSubThread721195501" class="idc-thread"></div></div></div></div></div></div>	<div class="idc-thread" id="IDThread721195483"><div id="IDComment721195483" class="idc-c idc-anonymous "><div class="idc-c-h"> <div class="idc-c-h-inner"> <div class="idc-v"> <span class="idc-v-total" id="IDCommentVoteScore721195483">+1</span> <a class="idc-v-up" href="javascript: voteComment(721195483, 1)"><span>Vote up</span></a> <a class="idc-v-down" href="javascript: voteComment(721195483, 0)"><span>Vote down</span></a> </div> <a href="http://gcbenison.wordpress.com/" class="idc-a"><img alt="&#39;s avatar - Go to profile" src="./An Introduction to Lock-Free Programming_files/f2f62795a806ed2f35d96af1ba9a539e.jpeg" height="26" width="26" class="idc-avatar"> </a> <p class="idc-i"> <a href="http://gcbenison.wordpress.com/" rel="nofollow"> Greg Benison </a> <em class="idc-time">· <a title="Comment Permalink" href="https://preshing.com/20120612/an-introduction-to-lock-free-programming/#IDComment721195483" id="IDCommentTime721195483" class="IDCommentTime">359 weeks ago</a></em> </p> </div></div> <div id="IDCommentTop721195483" class="idc-c-t"> <div id="IDComment-CommentText721195483" class="idc-c-t-inner"> Nicely written overview of lock-free programming, especially in that it gives a sense of how tricky it really is (especially if cross-platform compatibility is needed.) <br> <br>Given how many pitfalls there are with lock-free approaches, would you recommend implementing something with plain old mutexes first, and then benchmarking against that? Lock-free data structures seem like a great avenue for premature optimization. </div> </div> <div id="IDCommentBottom721195483" class="idc-c-b"> <div class="idc-right" id="IDCommentLinksRight721195483"> </div> <div id="IDCommentPostReplyLink721195483"> <span class="idc-btn_s"><span><input type="hidden" id="reqUsersOn" value="no"></span><span class="idc-r">Reply</span></span> </div> <a href="javascript: collapseThread(721195483);" id="IDCommentCollapseLink721195483" class="idc-collapselink">1 reply </a> <em class="idc-thread_active">· <span id="IDCommentThreadTime721195483" class="IDCommentThreadTimeRead">active 293 weeks ago</span></em> <span class="idc-clear"></span> </div></div><div id="IDCommentSubThread721195483" class="idc-thread"><div id="IDComment721195487" class="idc-c idc-anonymous "><div class="idc-c-h"> <div class="idc-c-h-inner"> <div class="idc-v"> <span class="idc-v-total" id="IDCommentVoteScore721195487">+1</span> <a class="idc-v-up" href="javascript: voteComment(721195487, 1)"><span>Vote up</span></a> <a class="idc-v-down" href="javascript: voteComment(721195487, 0)"><span>Vote down</span></a> </div> <a href="http://preshing.com/" class="idc-a"><img alt="&#39;s avatar - Go to profile" src="./An Introduction to Lock-Free Programming_files/61da29e47921b97570c793aaf39d8170.jpeg" height="26" width="26" class="idc-avatar"> </a> <p class="idc-i"> <a href="http://preshing.com/" rel="nofollow"> Jeff Preshing </a> <em class="idc-time">· <a title="Comment Permalink" href="https://preshing.com/20120612/an-introduction-to-lock-free-programming/#IDComment721195487" id="IDCommentTime721195487" class="IDCommentTime">359 weeks ago</a></em> </p> </div></div> <div id="IDCommentTop721195487" class="idc-c-t"> <div id="IDComment-CommentText721195487" class="idc-c-t-inner"> Yea for sure. I even gave respect to locks (mutexes) in a <a href="http://preshing.com/20111118/locks-arent-slow-lock-contention-is" target="_blank" rel="nofollow">previous post</a>. <br> <br>Where I work, nobody has gone overboard with lock-free programming. We've got some base lock-free systems in place. Aside from that, it usually happens as you suggest. When some part of the game is too slow, we profile it. Once in a while, a locking section shows up as a bottleneck. We first try to reduce data sharing, but when that's not possible, we might apply a lock-free technique. The latter choice usually requires careful testing. </div> </div> <div id="IDCommentBottom721195487" class="idc-c-b"> <div class="idc-right" id="IDCommentLinksRight721195487"> </div> <div id="IDCommentPostReplyLink721195487"> <span class="idc-btn_s"><span><input type="hidden" id="reqUsersOn" value="no"></span><span class="idc-r">Reply</span></span> </div> <span class="idc-clear"></span> </div></div><div id="IDCommentSubThread721195487" class="idc-thread"></div></div></div>	<div class="idc-thread" id="IDThread721195493"><div id="IDComment721195493" class="idc-c idc-anonymous "><div class="idc-c-h"> <div class="idc-c-h-inner"> <div class="idc-v"> <span class="idc-v-total" id="IDCommentVoteScore721195493">+1</span> <a class="idc-v-up" href="javascript: voteComment(721195493, 1)"><span>Vote up</span></a> <a class="idc-v-down" href="javascript: voteComment(721195493, 0)"><span>Vote down</span></a> </div> <span class="idc-a"><img alt="Mica&#39;s avatar" src="./An Introduction to Lock-Free Programming_files/6ac61630880576ab7c9539ec4ab6c510" height="26" width="26" class="idc-avatar"> </span> <p class="idc-i"> <span> Mica </span> <em class="idc-time">· <a title="Comment Permalink" href="https://preshing.com/20120612/an-introduction-to-lock-free-programming/#IDComment721195493" id="IDCommentTime721195493" class="IDCommentTime">340 weeks ago</a></em> </p> </div></div> <div id="IDCommentTop721195493" class="idc-c-t"> <div id="IDComment-CommentText721195493" class="idc-c-t-inner"> Hi Jeff, <br> <br>Thx for these useful information. <br> <br>Are you courageous enough to go a step further and teach us how to program "wait-free" algorithms? <br> <br>No one seems to know how to ;-) <br> <br>Regards <br>Mica </div> </div> <div id="IDCommentBottom721195493" class="idc-c-b"> <div class="idc-right" id="IDCommentLinksRight721195493"> </div> <div id="IDCommentPostReplyLink721195493"> <span class="idc-btn_s"><span><input type="hidden" id="reqUsersOn" value="no"></span><span class="idc-r">Reply</span></span> </div> <span style="display: none" id="IDCommentCollapseLinkWrapper721195493"><a href="javascript: collapseThread(721195493);" id="IDCommentCollapseLink721195493" class="idc-collapselink">0 replies </a> <em class="idc-thread_active">· <span id="IDCommentThreadTime721195493" class="IDCommentThreadTimeRead">active 293 weeks ago</span></em></span> <span class="idc-clear"></span> </div></div><div id="IDCommentSubThread721195493" class="idc-thread"></div></div>	<div class="idc-thread" id="IDThread721195504"><div id="IDComment721195504" class="idc-c idc-anonymous "><div class="idc-c-h"> <div class="idc-c-h-inner"> <div class="idc-v"> <span class="idc-v-total" id="IDCommentVoteScore721195504">+1</span> <a class="idc-v-up" href="javascript: voteComment(721195504, 1)"><span>Vote up</span></a> <a class="idc-v-down" href="javascript: voteComment(721195504, 0)"><span>Vote down</span></a> </div> <span class="idc-a"><img alt="adrien&#39;s avatar" src="./An Introduction to Lock-Free Programming_files/bc5702cce57af88287cfc9326f285c1b.jpeg" height="26" width="26" class="idc-avatar"> </span> <p class="idc-i"> <span> adrien </span> <em class="idc-time">· <a title="Comment Permalink" href="https://preshing.com/20120612/an-introduction-to-lock-free-programming/#IDComment721195504" id="IDCommentTime721195504" class="IDCommentTime">338 weeks ago</a></em> </p> </div></div> <div id="IDCommentTop721195504" class="idc-c-t"> <div id="IDComment-CommentText721195504" class="idc-c-t-inner"> Thank you for this great article. <br> <br>I've read several articles on DrDobbs and stuff like that and the doc of c++11, but this one is like a great very clear overview of the all thing well written, with very nice drawings. <br> <br>Keep up the great work </div> </div> <div id="IDCommentBottom721195504" class="idc-c-b"> <div class="idc-right" id="IDCommentLinksRight721195504"> </div> <div id="IDCommentPostReplyLink721195504"> <span class="idc-btn_s"><span><input type="hidden" id="reqUsersOn" value="no"></span><span class="idc-r">Reply</span></span> </div> <span style="display: none" id="IDCommentCollapseLinkWrapper721195504"><a href="javascript: collapseThread(721195504);" id="IDCommentCollapseLink721195504" class="idc-collapselink">0 replies </a> <em class="idc-thread_active">· <span id="IDCommentThreadTime721195504" class="IDCommentThreadTimeRead">active 293 weeks ago</span></em></span> <span class="idc-clear"></span> </div></div><div id="IDCommentSubThread721195504" class="idc-thread"></div></div>	<div class="idc-thread" id="IDThread721195506"><div id="IDComment721195506" class="idc-c idc-anonymous "><div class="idc-c-h"> <div class="idc-c-h-inner"> <div class="idc-v"> <span class="idc-v-total" id="IDCommentVoteScore721195506">+1</span> <a class="idc-v-up" href="javascript: voteComment(721195506, 1)"><span>Vote up</span></a> <a class="idc-v-down" href="javascript: voteComment(721195506, 0)"><span>Vote down</span></a> </div> <span class="idc-a"><img alt="code2live&#39;s avatar" src="./An Introduction to Lock-Free Programming_files/21f270a4064c6c6721b6649c344f792f" height="26" width="26" class="idc-avatar"> </span> <p class="idc-i"> <span> code2live </span> <em class="idc-time">· <a title="Comment Permalink" href="https://preshing.com/20120612/an-introduction-to-lock-free-programming/#IDComment721195506" id="IDCommentTime721195506" class="IDCommentTime">336 weeks ago</a></em> </p> </div></div> <div id="IDCommentTop721195506" class="idc-c-t"> <div id="IDComment-CommentText721195506" class="idc-c-t-inner"> Thanks for the very useful article/links. <br> <br>I had a question regarding the flowchart - "Are there producers and consumers only? Yes -&gt; Acquire and release semantics are sufficient" - Where can I find more information about this - especially involving multiple producers/consumers? Maybe its already there in a particular section of the listed links? Would be great if you have more information </div> </div> <div id="IDCommentBottom721195506" class="idc-c-b"> <div class="idc-right" id="IDCommentLinksRight721195506"> </div> <div id="IDCommentPostReplyLink721195506"> <span class="idc-btn_s"><span><input type="hidden" id="reqUsersOn" value="no"></span><span class="idc-r">Reply</span></span> </div> <span style="display: none" id="IDCommentCollapseLinkWrapper721195506"><a href="javascript: collapseThread(721195506);" id="IDCommentCollapseLink721195506" class="idc-collapselink">0 replies </a> <em class="idc-thread_active">· <span id="IDCommentThreadTime721195506" class="IDCommentThreadTimeRead">active 293 weeks ago</span></em></span> <span class="idc-clear"></span> </div></div><div id="IDCommentSubThread721195506" class="idc-thread"></div></div>	<div class="idc-thread" id="IDThread721195514"><div id="IDComment721195514" class="idc-c idc-anonymous "><div class="idc-c-h"> <div class="idc-c-h-inner"> <div class="idc-v"> <span class="idc-v-total" id="IDCommentVoteScore721195514">+1</span> <a class="idc-v-up" href="javascript: voteComment(721195514, 1)"><span>Vote up</span></a> <a class="idc-v-down" href="javascript: voteComment(721195514, 0)"><span>Vote down</span></a> </div> <span class="idc-a"><img alt="drewlu&#39;s avatar" src="./An Introduction to Lock-Free Programming_files/82fd401f838e223f6a2af3118fbe65ec.png" height="26" width="26" class="idc-avatar"> </span> <p class="idc-i"> <span> drewlu </span> <em class="idc-time">· <a title="Comment Permalink" href="https://preshing.com/20120612/an-introduction-to-lock-free-programming/#IDComment721195514" id="IDCommentTime721195514" class="IDCommentTime">334 weeks ago</a></em> </p> </div></div> <div id="IDCommentTop721195514" class="idc-c-t"> <div id="IDComment-CommentText721195514" class="idc-c-t-inner"> Wonderful article especially for beginners! </div> </div> <div id="IDCommentBottom721195514" class="idc-c-b"> <div class="idc-right" id="IDCommentLinksRight721195514"> </div> <div id="IDCommentPostReplyLink721195514"> <span class="idc-btn_s"><span><input type="hidden" id="reqUsersOn" value="no"></span><span class="idc-r">Reply</span></span> </div> <span style="display: none" id="IDCommentCollapseLinkWrapper721195514"><a href="javascript: collapseThread(721195514);" id="IDCommentCollapseLink721195514" class="idc-collapselink">0 replies </a> <em class="idc-thread_active">· <span id="IDCommentThreadTime721195514" class="IDCommentThreadTimeRead">active 293 weeks ago</span></em></span> <span class="idc-clear"></span> </div></div><div id="IDCommentSubThread721195514" class="idc-thread"></div></div>	<div class="idc-thread" id="IDThread721195516"><div id="IDComment721195516" class="idc-c idc-anonymous "><div class="idc-c-h"> <div class="idc-c-h-inner"> <div class="idc-v"> <span class="idc-v-total" id="IDCommentVoteScore721195516">+1</span> <a class="idc-v-up" href="javascript: voteComment(721195516, 1)"><span>Vote up</span></a> <a class="idc-v-down" href="javascript: voteComment(721195516, 0)"><span>Vote down</span></a> </div> <span class="idc-a"><img alt="Ali&#39;s avatar" src="./An Introduction to Lock-Free Programming_files/fe789c3d586c9d0747ee6799ca853f05" height="26" width="26" class="idc-avatar"> </span> <p class="idc-i"> <span> Ali </span> <em class="idc-time">· <a title="Comment Permalink" href="https://preshing.com/20120612/an-introduction-to-lock-free-programming/#IDComment721195516" id="IDCommentTime721195516" class="IDCommentTime">301 weeks ago</a></em> </p> </div></div> <div id="IDCommentTop721195516" class="idc-c-t"> <div id="IDComment-CommentText721195516" class="idc-c-t-inner"> Hi...Thanks for this useful article.I am doing FYP on lock free synchronization.I have studied a lot of articles and papers but I could not understand the basic concept that how a single resource cab be utilized by two processors simultaneously..No one have given pictorial /graphical examples. <br>I need information about Lock free Link Lists.What is the flow of making them lockless... <br>Kindly help me.. </div> </div> <div id="IDCommentBottom721195516" class="idc-c-b"> <div class="idc-right" id="IDCommentLinksRight721195516"> </div> <div id="IDCommentPostReplyLink721195516"> <span class="idc-btn_s"><span><input type="hidden" id="reqUsersOn" value="no"></span><span class="idc-r">Reply</span></span> </div> <a href="javascript: collapseThread(721195516);" id="IDCommentCollapseLink721195516" class="idc-collapselink">1 reply </a> <em class="idc-thread_active">· <span id="IDCommentThreadTime721195516" class="IDCommentThreadTimeRead">active 293 weeks ago</span></em> <span class="idc-clear"></span> </div></div><div id="IDCommentSubThread721195516" class="idc-thread"><div id="IDComment721195518" class="idc-c idc-anonymous "><div class="idc-c-h"> <div class="idc-c-h-inner"> <div class="idc-v"> <span class="idc-v-total" id="IDCommentVoteScore721195518">+1</span> <a class="idc-v-up" href="javascript: voteComment(721195518, 1)"><span>Vote up</span></a> <a class="idc-v-down" href="javascript: voteComment(721195518, 0)"><span>Vote down</span></a> </div> <a href="http://jactorconsulting.com/" class="idc-a"><img alt="&#39;s avatar - Go to profile" src="./An Introduction to Lock-Free Programming_files/db375806cfcff6d02b4b0c7d29eeb756.jpeg" height="26" width="26" class="idc-avatar"> </a> <p class="idc-i"> <a href="http://jactorconsulting.com/" rel="nofollow"> Bill La Forge </a> <em class="idc-time">· <a title="Comment Permalink" href="https://preshing.com/20120612/an-introduction-to-lock-free-programming/#IDComment721195518" id="IDCommentTime721195518" class="IDCommentTime">301 weeks ago</a></em> </p> </div></div> <div id="IDCommentTop721195518" class="idc-c-t"> <div id="IDComment-CommentText721195518" class="idc-c-t-inner"> Any change should be made to a (deep?) copy of the data structure and, when updating the reference, if it was changed since the copy was made (see java atomic reference or just use a CAS instruction), just repeat the process. <br> <br>This is a heavy handed approach, but will work for any type of structure. But there are many structures (java's concurrent linked queue for example) that likely work more efficiently, i.e. without having to copy the entire structure. Alternately, you can use an immutable structure which returns a different reference with each update as the immutable structure will cleverly avoid having to copy the entire structure. </div> </div> <div id="IDCommentBottom721195518" class="idc-c-b"> <div class="idc-right" id="IDCommentLinksRight721195518"> </div> <div id="IDCommentPostReplyLink721195518"> <span class="idc-btn_s"><span><input type="hidden" id="reqUsersOn" value="no"></span><span class="idc-r">Reply</span></span> </div> <span class="idc-clear"></span> </div></div><div id="IDCommentSubThread721195518" class="idc-thread"></div></div></div>	<div class="idc-thread" id="IDThread805519575"><div id="IDComment805519575" class="idc-c idc-anonymous "><div class="idc-c-h"> <div class="idc-c-h-inner"> <div class="idc-v"> <span class="idc-v-total" id="IDCommentVoteScore805519575">+1</span> <a class="idc-v-up" href="javascript: voteComment(805519575, 1)"><span>Vote up</span></a> <a class="idc-v-down" href="javascript: voteComment(805519575, 0)"><span>Vote down</span></a> </div> <span class="idc-a"><img alt="Rohan&#39;s avatar" src="./An Introduction to Lock-Free Programming_files/85c10a2a349cced76be9b3586a25fec1" height="26" width="26" class="idc-avatar"> </span> <p class="idc-i"> <span> Rohan </span> <em class="idc-time">· <a title="Comment Permalink" href="https://preshing.com/20120612/an-introduction-to-lock-free-programming/#IDComment805519575" id="IDCommentTime805519575" class="IDCommentTime">268 weeks ago</a></em> </p> </div></div> <div id="IDCommentTop805519575" class="idc-c-t"> <div id="IDComment-CommentText805519575" class="idc-c-t-inner"> I had a question. Intel allows reordering of loads with earlier stores, ie: StoreLoad can be reordered to LoadStore. However for that very reordering there is no fence - ie no StoreLoad Barrier. One must use a full barrier - MFENCE. Did I get that right? </div> </div> <div id="IDCommentBottom805519575" class="idc-c-b"> <div class="idc-right" id="IDCommentLinksRight805519575"> </div> <div id="IDCommentPostReplyLink805519575"> <span class="idc-btn_s"><span><input type="hidden" id="reqUsersOn" value="no"></span><span class="idc-r">Reply</span></span> </div> <a href="javascript: collapseThread(805519575);" id="IDCommentCollapseLink805519575" class="idc-collapselink">1 reply </a> <em class="idc-thread_active">· <span id="IDCommentThreadTime805519575" class="IDCommentThreadTimeRead">active 268 weeks ago</span></em> <span class="idc-clear"></span> </div></div><div id="IDCommentSubThread805519575" class="idc-thread"><div id="IDComment805547691" class="idc-c idc-admin "><div class="idc-c-h"> <div class="idc-c-h-inner"> <div class="idc-m" id="IDUserMenu805547691" onmouseover="clearTimeout( IDC.popupMenuTimeout );" onmouseout="IDC.popupMenuTimeout = setTimeout( &#39;IDC.user_menu.hide(805547691);&#39;, 250 );"> <div class="idc-m-avatar idc-m-avatar-loading"> <img alt="Loading..." src="./An Introduction to Lock-Free Programming_files/idc-m-loading.gif" class="idc-m-loadingimg"> </div> </div> <div class="idc-v"> <span class="idc-v-total" id="IDCommentVoteScore805547691">+2</span> <a class="idc-v-up" href="javascript: voteComment(805547691, 1)"><span>Vote up</span></a> <a class="idc-v-down" href="javascript: voteComment(805547691, 0)"><span>Vote down</span></a> </div> <a href="http://preshing.com/" class="idc-a" onmouseover="IDC.user_menu.show(&#39;IDUserMenu805547691&#39;, 3017211)"><img src="./An Introduction to Lock-Free Programming_files/61da29e47921b97570c793aaf39d8170(1).jpeg" class="idc-avatar" alt="Jeff Preshing&#39;s avatar - Go to profile"> <img class="idc-a-facebook" src="./An Introduction to Lock-Free Programming_files/wordpress-favicon.ico" width="16" height="16"></a> <p class="idc-i"> <a href="http://preshing.com/" rel="nofollow">Jeff Preshing</a> <span class="idc-rep idc-level1" title="User&#39;s reputation score. The better commenter, the greater number."><span></span><span class="idc-r" onclick="showReputationWhy(805547691);">62p</span></span> <em class="idc-time"> ·  <a title="Comment Permalink" href="https://preshing.com/20120612/an-introduction-to-lock-free-programming/#IDComment805547691" id="IDCommentTime805547691" class="IDCommentTime">268 weeks ago</a></em> </p> </div></div> <div id="IDCommentTop805547691" class="idc-c-t"> <div id="IDComment-CommentText805547691" class="idc-c-t-inner"> You got that right, though "mfence" is not the only instruction which can act as a full barrier. Any locked instruction, such as "xchg", "lock or", and others, will also act as a full memory barrier – provided you don’t use SSE instructions or write-combined memory in the neighboring operations you wish to affect. Microsoft C++ generates "xchg" when you use the MemoryBarrier intrinsic, at least in Visual Studio 2008. Mintomic implements mint_thread_fence_seq_cst using <a href="https://github.com/mintomic/mintomic/blob/master/include/mintomic/private/mintomic_gcc_x86-64.h#L39" target="_blank" rel="nofollow">"lock or"</a>. </div> </div> <div id="IDCommentBottom805547691" class="idc-c-b"> <div class="idc-right" id="IDCommentLinksRight805547691"> </div> <div id="IDCommentPostReplyLink805547691"> <span class="idc-btn_s"><span><input type="hidden" id="reqUsersOn" value="no"></span><span class="idc-r">Reply</span></span> </div> <span class="idc-clear"></span> </div></div><div id="IDCommentSubThread805547691" class="idc-thread"></div></div></div>	<div class="idc-thread" id="IDThread805557796"><div id="IDComment805557796" class="idc-c idc-anonymous "><div class="idc-c-h"> <div class="idc-c-h-inner"> <div class="idc-v"> <span class="idc-v-total" id="IDCommentVoteScore805557796">+1</span> <a class="idc-v-up" href="javascript: voteComment(805557796, 1)"><span>Vote up</span></a> <a class="idc-v-down" href="javascript: voteComment(805557796, 0)"><span>Vote down</span></a> </div> <span class="idc-a"><img alt="Rohan&#39;s avatar" src="./An Introduction to Lock-Free Programming_files/85c10a2a349cced76be9b3586a25fec1" height="26" width="26" class="idc-avatar"> </span> <p class="idc-i"> <span> Rohan </span> <em class="idc-time">· <a title="Comment Permalink" href="https://preshing.com/20120612/an-introduction-to-lock-free-programming/#IDComment805557796" id="IDCommentTime805557796" class="IDCommentTime">268 weeks ago</a></em> </p> </div></div> <div id="IDCommentTop805557796" class="idc-c-t"> <div id="IDComment-CommentText805557796" class="idc-c-t-inner"> Thanks for the reply! As I read further into the Intel Manuals I realized that "StoreLoads may be reordered for different mem locations" but "StoreLoads are NOT reordered for same mem location". So in-fact one doesn't need a StoreLoad Barrier at all on x86 if they point to same memory location, and I really cant think of an example where a StoreLoad barrier would be needed if they point to different memory locations. At that point there is no option other than a full barrier. </div> </div> <div id="IDCommentBottom805557796" class="idc-c-b"> <div class="idc-right" id="IDCommentLinksRight805557796"> </div> <div id="IDCommentPostReplyLink805557796"> <span class="idc-btn_s"><span><input type="hidden" id="reqUsersOn" value="no"></span><span class="idc-r">Reply</span></span> </div> <span style="display: none" id="IDCommentCollapseLinkWrapper805557796"><a href="javascript: collapseThread(805557796);" id="IDCommentCollapseLink805557796" class="idc-collapselink">0 replies </a> <em class="idc-thread_active">· <span id="IDCommentThreadTime805557796" class="IDCommentThreadTimeRead">active 268 weeks ago</span></em></span> <span class="idc-clear"></span> </div></div><div id="IDCommentSubThread805557796" class="idc-thread"></div></div>	<div class="idc-thread" id="IDThread818232136"><div id="IDComment818232136" class="idc-c idc-anonymous "><div class="idc-c-h"> <div class="idc-c-h-inner"> <div class="idc-v"> <span class="idc-v-total" id="IDCommentVoteScore818232136">+1</span> <a class="idc-v-up" href="javascript: voteComment(818232136, 1)"><span>Vote up</span></a> <a class="idc-v-down" href="javascript: voteComment(818232136, 0)"><span>Vote down</span></a> </div> <span class="idc-a"><img alt="Rollen&#39;s avatar" src="./An Introduction to Lock-Free Programming_files/999178e226c379834813d2752902608e" height="26" width="26" class="idc-avatar"> </span> <p class="idc-i"> <span> Rollen </span> <em class="idc-time">· <a title="Comment Permalink" href="https://preshing.com/20120612/an-introduction-to-lock-free-programming/#IDComment818232136" id="IDCommentTime818232136" class="IDCommentTime">263 weeks ago</a></em> </p> </div></div> <div id="IDCommentTop818232136" class="idc-c-t"> <div id="IDComment-CommentText818232136" class="idc-c-t-inner"> Do the parameters of _InterlockedCompareExchange be misplaced? <br> <br>I mean, should the following piece of code <br>if (_InterlockedCompareExchange(&amp;m_Head, newHead, oldHead) == oldHead) <br> return; <br> <br>be modified as <br> <br>if (_InterlockedCompareExchange(&amp;m_Head, oldHead, newHead) == oldHead) <br> return; <br> <br>Thanks. </div> </div> <div id="IDCommentBottom818232136" class="idc-c-b"> <div class="idc-right" id="IDCommentLinksRight818232136"> </div> <div id="IDCommentPostReplyLink818232136"> <span class="idc-btn_s"><span><input type="hidden" id="reqUsersOn" value="no"></span><span class="idc-r">Reply</span></span> </div> <span style="display: none" id="IDCommentCollapseLinkWrapper818232136"><a href="javascript: collapseThread(818232136);" id="IDCommentCollapseLink818232136" class="idc-collapselink">0 replies </a> <em class="idc-thread_active">· <span id="IDCommentThreadTime818232136" class="IDCommentThreadTimeRead">active 263 weeks ago</span></em></span> <span class="idc-clear"></span> </div></div><div id="IDCommentSubThread818232136" class="idc-thread"></div></div>	<div class="idc-thread" id="IDThread859002679"><div id="IDComment859002679" class="idc-c idc-anonymous idc-twitter"><div class="idc-c-h"> <div class="idc-c-h-inner"> <div class="idc-v"> <span class="idc-v-total" id="IDCommentVoteScore859002679">+1</span> <a class="idc-v-up" href="javascript: voteComment(859002679, 1)"><span>Vote up</span></a> <a class="idc-v-down" href="javascript: voteComment(859002679, 0)"><span>Vote down</span></a> </div> <a href="http://twitter.com/avushakov" class="idc-a"><img alt="&#39;s avatar - Go to profile" src="./An Introduction to Lock-Free Programming_files/37a730bde35acf8e3ec1b9f0acee9739_normal.png" height="26" width="26" class="idc-avatar"> <img class="idc-a-facebook" src="./An Introduction to Lock-Free Programming_files/twitter-favicon.ico" width="16" height="16"> </a> <p class="idc-i"> <a href="http://twitter.com/avushakov" rel="nofollow"> @avushakov </a> <em class="idc-time">· <a title="Comment Permalink" href="https://preshing.com/20120612/an-introduction-to-lock-free-programming/#IDComment859002679" id="IDCommentTime859002679" class="IDCommentTime">248 weeks ago</a></em> </p> </div></div> <div id="IDCommentTop859002679" class="idc-c-t"> <div id="IDComment-CommentText859002679" class="idc-c-t-inner"> Hans Boehm’s collection of links about the C++11 memory model moved to <a href="http://hboehm.info/c++mm/" target="_blank" rel="nofollow">http://hboehm.info/c++mm/</a> </div> </div> <div id="IDCommentBottom859002679" class="idc-c-b"> <div class="idc-right" id="IDCommentLinksRight859002679"> </div> <div id="IDCommentPostReplyLink859002679"> <span class="idc-btn_s"><span><input type="hidden" id="reqUsersOn" value="no"></span><span class="idc-r">Reply</span></span> </div> <span style="display: none" id="IDCommentCollapseLinkWrapper859002679"><a href="javascript: collapseThread(859002679);" id="IDCommentCollapseLink859002679" class="idc-collapselink">0 replies </a> <em class="idc-thread_active">· <span id="IDCommentThreadTime859002679" class="IDCommentThreadTimeRead">active 248 weeks ago</span></em></span> <span class="idc-clear"></span> </div></div><div id="IDCommentSubThread859002679" class="idc-thread"></div></div>	<div class="idc-thread" id="IDThread1006904117"><div id="IDComment1006904117" class="idc-c idc-anonymous "><div class="idc-c-h"> <div class="idc-c-h-inner"> <div class="idc-v"> <span class="idc-v-total" id="IDCommentVoteScore1006904117">+1</span> <a class="idc-v-up" href="javascript: voteComment(1006904117, 1)"><span>Vote up</span></a> <a class="idc-v-down" href="javascript: voteComment(1006904117, 0)"><span>Vote down</span></a> </div> <a href="https://twitter.com/jaseemabid/" class="idc-a"><img alt="&#39;s avatar - Go to profile" src="./An Introduction to Lock-Free Programming_files/40901f06ff8e7bb58e200630c613d647.jpeg" height="26" width="26" class="idc-avatar"> </a> <p class="idc-i"> <a href="https://twitter.com/jaseemabid/" rel="nofollow"> Jaseem Abid </a> <em class="idc-time">· <a title="Comment Permalink" href="https://preshing.com/20120612/an-introduction-to-lock-free-programming/#IDComment1006904117" id="IDCommentTime1006904117" class="IDCommentTime">176 weeks ago</a></em> </p> </div></div> <div id="IDCommentTop1006904117" class="idc-c-t"> <div id="IDComment-CommentText1006904117" class="idc-c-t-inner"> Very well written. Thank you. Will bookmark and come back when needed. </div> </div> <div id="IDCommentBottom1006904117" class="idc-c-b"> <div class="idc-right" id="IDCommentLinksRight1006904117"> </div> <div id="IDCommentPostReplyLink1006904117"> <span class="idc-btn_s"><span><input type="hidden" id="reqUsersOn" value="no"></span><span class="idc-r">Reply</span></span> </div> <span style="display: none" id="IDCommentCollapseLinkWrapper1006904117"><a href="javascript: collapseThread(1006904117);" id="IDCommentCollapseLink1006904117" class="idc-collapselink">0 replies </a> <em class="idc-thread_active">· <span id="IDCommentThreadTime1006904117" class="IDCommentThreadTimeRead">active 128 weeks ago</span></em></span> <span class="idc-clear"></span> </div></div><div id="IDCommentSubThread1006904117" class="idc-thread"></div></div>	<div class="idc-thread" id="IDThread1039932317"><div id="IDComment1039932317" class="idc-c idc-anonymous "><div class="idc-c-h"> <div class="idc-c-h-inner"> <div class="idc-v"> <span class="idc-v-total" id="IDCommentVoteScore1039932317">+1</span> <a class="idc-v-up" href="javascript: voteComment(1039932317, 1)"><span>Vote up</span></a> <a class="idc-v-down" href="javascript: voteComment(1039932317, 0)"><span>Vote down</span></a> </div> <span class="idc-a"><img alt="Uma Mahesh&#39;s avatar" src="./An Introduction to Lock-Free Programming_files/2522bede2ed05fd6f463e51a7e1ebb0f" height="26" width="26" class="idc-avatar"> </span> <p class="idc-i"> <span> Uma Mahesh </span> <em class="idc-time">· <a title="Comment Permalink" href="https://preshing.com/20120612/an-introduction-to-lock-free-programming/#IDComment1039932317" id="IDCommentTime1039932317" class="IDCommentTime">113 weeks ago</a></em> </p> </div></div> <div id="IDCommentTop1039932317" class="idc-c-t"> <div id="IDComment-CommentText1039932317" class="idc-c-t-inner"> Thanks for writing complex topic in very detailed &amp; easy to understand manner. hats off to you. Flow charts are amazing. </div> </div> <div id="IDCommentBottom1039932317" class="idc-c-b"> <div class="idc-right" id="IDCommentLinksRight1039932317"> </div> <div id="IDCommentPostReplyLink1039932317"> <span class="idc-btn_s"><span><input type="hidden" id="reqUsersOn" value="no"></span><span class="idc-r">Reply</span></span> </div> <span style="display: none" id="IDCommentCollapseLinkWrapper1039932317"><a href="javascript: collapseThread(1039932317);" id="IDCommentCollapseLink1039932317" class="idc-collapselink">0 replies </a> <em class="idc-thread_active">· <span id="IDCommentThreadTime1039932317" class="IDCommentThreadTimeRead">active 113 weeks ago</span></em></span> <span class="idc-clear"></span> </div></div><div id="IDCommentSubThread1039932317" class="idc-thread"></div></div>	<div class="idc-thread" id="IDThread1052496029"><div id="IDComment1052496029" class="idc-c "><div class="idc-c-h"> <div class="idc-c-h-inner"> <div class="idc-m" id="IDUserMenu1052496029" onmouseover="clearTimeout( IDC.popupMenuTimeout );" onmouseout="IDC.popupMenuTimeout = setTimeout( &#39;IDC.user_menu.hide(1052496029);&#39;, 250 );"> <div class="idc-m-avatar idc-m-avatar-loading"> <img alt="Loading..." src="./An Introduction to Lock-Free Programming_files/idc-m-loading.gif" class="idc-m-loadingimg"> </div> </div> <div class="idc-v"> <span class="idc-v-total" id="IDCommentVoteScore1052496029">+1</span> <a class="idc-v-up" href="javascript: voteComment(1052496029, 1)"><span>Vote up</span></a> <a class="idc-v-down" href="javascript: voteComment(1052496029, 0)"><span>Vote down</span></a> </div> <a href="https://www.intensedebate.com/profiles/anujyadavcse" class="idc-a" onmouseover="IDC.user_menu.show(&#39;IDUserMenu1052496029&#39;, 17581454)"><img src="./An Introduction to Lock-Free Programming_files/a082e9ea10e6aae83f72e1eb979fee7f" class="idc-avatar" alt="anujyadavcse&#39;s avatar - Go to profile"> <img class="idc-a-facebook" src="./An Introduction to Lock-Free Programming_files/wordpress-favicon.ico" width="16" height="16"></a> <p class="idc-i"> <a href="https://www.intensedebate.com/profiles/anujyadavcse">anujyadavcse</a> <span class="idc-rep idc-level0" title="User&#39;s reputation score. The better commenter, the greater number."><span></span><span class="idc-r" onclick="showReputationWhy(1052496029);">0p</span></span> <em class="idc-time"> ·  <a title="Comment Permalink" href="https://preshing.com/20120612/an-introduction-to-lock-free-programming/#IDComment1052496029" id="IDCommentTime1052496029" class="IDCommentTime">77 weeks ago</a></em> </p> </div></div> <div id="IDCommentTop1052496029" class="idc-c-t"> <div id="IDComment-CommentText1052496029" class="idc-c-t-inner"> I have bookmarked the site (not only this article) as a research blog for myself. Thanks for sharing these goodies!!! </div> </div> <div id="IDCommentBottom1052496029" class="idc-c-b"> <div class="idc-right" id="IDCommentLinksRight1052496029"> </div> <div id="IDCommentPostReplyLink1052496029"> <span class="idc-btn_s"><span><input type="hidden" id="reqUsersOn" value="no"></span><span class="idc-r">Reply</span></span> </div> <span style="display: none" id="IDCommentCollapseLinkWrapper1052496029"><a href="javascript: collapseThread(1052496029);" id="IDCommentCollapseLink1052496029" class="idc-collapselink">0 replies </a> <em class="idc-thread_active">· <span id="IDCommentThreadTime1052496029" class="IDCommentThreadTimeRead">active 77 weeks ago</span></em></span> <span class="idc-clear"></span> </div></div><div id="IDCommentSubThread1052496029" class="idc-thread"></div></div>	<div class="idc-thread" id="IDThread1055495440"><div id="IDComment1055495440" class="idc-c idc-anonymous "><div class="idc-c-h"> <div class="idc-c-h-inner"> <div class="idc-v"> <span class="idc-v-total" id="IDCommentVoteScore1055495440">0</span> <a class="idc-v-up" href="javascript: voteComment(1055495440, 1)"><span>Vote up</span></a> <a class="idc-v-down" href="javascript: voteComment(1055495440, 0)"><span>Vote down</span></a> </div> <span class="idc-a"><img alt="Matt&#39;s avatar" src="./An Introduction to Lock-Free Programming_files/f9535f6b4bd447d9e8a2718b2390c80f" height="26" width="26" class="idc-avatar"> </span> <p class="idc-i"> <span> Matt </span> <em class="idc-time">· <a title="Comment Permalink" href="https://preshing.com/20120612/an-introduction-to-lock-free-programming/#IDComment1055495440" id="IDCommentTime1055495440" class="IDCommentTime">70 weeks ago</a></em> </p> </div></div> <div id="IDCommentTop1055495440" class="idc-c-t"> <div id="IDComment-CommentText1055495440" class="idc-c-t-inner"> There is a set of headers for lock free programming. It is based on a paradigm of nuclear chain reactions. For example Fission reactions fan out one process (upon completion) to many new processes. Fusion fans in multiple threads to one computational thread. <br>Check it out here : <a href="https://github.com/flatmax/nuclear-processing" target="_blank" rel="nofollow">https://github.com/flatmax/nuclear-processing</a> </div> </div> <div id="IDCommentBottom1055495440" class="idc-c-b"> <div class="idc-right" id="IDCommentLinksRight1055495440"> </div> <div id="IDCommentPostReplyLink1055495440"> <span class="idc-btn_s"><span><input type="hidden" id="reqUsersOn" value="no"></span><span class="idc-r">Reply</span></span> </div> <span style="display: none" id="IDCommentCollapseLinkWrapper1055495440"><a href="javascript: collapseThread(1055495440);" id="IDCommentCollapseLink1055495440" class="idc-collapselink">0 replies </a> <em class="idc-thread_active">· <span id="IDCommentThreadTime1055495440" class="IDCommentThreadTimeRead">active 70 weeks ago</span></em></span> <span class="idc-clear"></span> </div></div><div id="IDCommentSubThread1055495440" class="idc-thread"></div></div></div>	<div id="IDCommentsNewThreadCover" class="idc-new" style="display:none;"> <a name="respond"></a> <h3>Post a new comment</h3> <div class="idc-thread" id="IDCThread"> <div style="width: 100%;" id="IDCommentsNewThread" class="idc-c idc-reply idc-anonymous idc-signup"> <div class="idc-c-h" id="IDCommentsNewThreadHeader" style="display: none;"> <div class="idc-right" id="IDCommentsNewThreadHeaderRight"> <div class="idc-expand"></div> </div> </div> <ul class="idc-c-plugins" id="idc-plugin-buttons-new-thread"></ul> <div class="idc-c-t"> <form id="IDCommentNewThreadForm1"> <div class="idc-c-t-inner"> <textarea class="idc-text_noresize" style="color:#CCC" id="IDCommentNewThreadText" onfocus="txtOnFocus(this, &#39;Enter text right here!&#39;);" onblur="txtOnBlur(this, &#39;Enter text right here!&#39;);">Enter text right here!</textarea> <span class="idc-clear"> </span></div> </form> </div> <div class="idc-postnav" id="IDCPostNav"> <p id="IDCNavGuest2" style="display: inline;" class="idc-postnav-label"><span>Comment as a Guest, or login:</span></p> <ul class="idc-postnav-list" id="IDCNavList"> <li class="idc-first"><a href="javascript: showLogin();" class="idc-loginbtn_intensedebate">Login to IntenseDebate</a></li> <li class="idc-first"><a href="javascript: showWPLogin();" class="idc-loginbtn_wordpress">Login to WordPress.com</a></li> <li><a href="javascript: IDC.twitter.load_popup();" class="idc-loginbtn_twitter">Login to Twitter</a></li> </ul> <a href="javascript: IDCNavReply(&#39;IDCNavGuest&#39;); showSignupNewThread(); id_fbStopPoll(); id_show_nav();" id="IDCNavGuest" style="display:none;margin:2px 0;line-height:21px;">Go back</a> </div> <div class="idc-c-m idc-twitter_loggedin"> <div class="idc-userbar"> <p class="idc-right"><label for="IDNewThreadTweetThis-tw" style="display:inline; line-height:28px;" class="idc-nofloat"><input type="checkbox" id="IDNewThreadTweetThis-tw"> Tweet this comment</label></p> <a class="idc-a_nomenu"><img id="id_twAvatar_NewThread" src="https://preshing.com/20120612/an-introduction-to-lock-free-programming/" class="idc-avatar" width="26" height="26"><img id="id_twAvatar_NewThread-fav" src="./An Introduction to Lock-Free Programming_files/twitter-favicon.ico" style="margin: 13px 0 -1px -5px; width: 16px; height: 16px;" width="16" height="16" alt="Twitter"></a> <p class="idc-userbar-i"> Connected as <a href="https://preshing.com/20120612/an-introduction-to-lock-free-programming/#" id="id_twName_NewThread" class="snap_noshots"></a> (<a href="https://www.intensedebate.com/twitter-logout.php" class="snap_noshots">Logout</a>) </p> </div> <div class="idc-column-wide"> <label for="txtEmailNewThreadTW">Email (optional)</label> <input type="text" id="txtEmailNewThreadTW" class="idc-text" onfocus="txtOnFocus(this, &#39;&#39;);" onblur="txtOnBlur(this, &#39;&#39;);"> <p></p> <p class="idc-form-info">Not displayed publicly.</p> </div> </div> <div class="idc-c-m idc-signup"> <form id="IDCommentNewThreadForm2"> <div style="width: 100%;"> <div class="idc-columns"> <div class="idc-column" id="IDCColumnNameLabel"> <label for="txtNameNewThread">Name</label> </div> <div class="idc-column" id="IDCColumnEmailLabel"> <label for="txtEmailNewThread">Email</label> </div> <div class="idc-column" id="IDCColumnURLLabel"> <label for="txtURLNewThread">Website (optional)</label> </div> <span class="idc-clear"></span> </div> <div class="idc-column" id="IDCColumnName"> <input type="text" id="txtNameNewThread" class="idc-text" onfocus="txtOnFocus(this, &#39;&#39;);" onblur="txtOnBlur(this, &#39;&#39;);"> <p class="idc-form-info">Displayed next to your comments.</p> </div> <div class="idc-column" id="IDCColumnEmailReply"> <input type="text" id="txtEmailNewThread" class="idc-text" onfocus="txtOnFocus(this, &#39;&#39;);" onblur="txtOnBlur(this, &#39;&#39;);"> <p class="idc-form-info">Not displayed publicly.</p> </div> <div class="idc-column" id="IDCColumnURL"> <input type="text" class="idc-text" id="txtURLNewThread" onfocus="txtOnFocus(this, &#39;&#39;);" onblur="txtOnBlur(this, &#39;&#39;);"> <p class="idc-form-info">If you have a website, link to it here.</p> </div> </div> </form> </div> <p id="IDCommentsNewThreadListItem1" style="display:none;">Posting anonymously.</p> <p id="IDNewThreadTweetThisWrapper" style="display:none"><label for="IDNewThreadTweetThis" class="idc-nofloat"><input type="checkbox" id="IDNewThreadTweetThis"> Tweet this comment</label></p> <div class="idc-c-b"> <div class="idc-right" id="IDNewThreadSubmitLI"> <a class="idc-btn_l" href="javascript: postComment(0);"><span></span><span class="idc-r"><strong>Submit Comment</strong></span></a> </div> <div class="idc-new_subscribe" id="IDSubscribeToThisWrapper"> <!--<input type="checkbox" id="IDSubscribeToThis" class="idc-chk" />--> <label for="IDSubscribeToThis" class="idc-nofloat"> Subscribe to <select id="IDSubscribeToThis" name="IDSubscribeToThis"> <option value="-1" id="IDSubscribeToThis-def">None</option> <option value="1" id="IDSubscribeToThis-replies">Replies</option> <option value="0">All new comments</option> </select> </label> </div> <div class="idc-customtext"> <span id="customText"></span> </div> <span class="idc-clear"></span> </div> </div> </div> </div> <div class="idc-foot"> <p class="idc-id"><span>Comments by </span><a href="https://www.intensedebate.com/" class="idc-idlogo" target="_blank">IntenseDebate</a></p> <span class="idc-clear"></span> </div><div id="divReplyExpandingText" class="idc-measure"></div><div id="divNewPostExpandingText" class="idc-measure"></div><div class="idc-c idc-reply idc-anonymous idc-signup" id="IDCommentReplyDiv" style="display: none;"><p class="idc-header" id="IDCommentReplyName"></p> <ul class="idc-c-plugins" id="idc-plugin-buttons-reply"></ul> <div class="idc-c-t"> <div class="idc-c-t-inner"> <form id="IDCommentReplyForm1"> <textarea id="txtComment" class="idc-text_noresize" onfocus="txtOnFocus(this, &#39;Enter text right here!&#39;);" onblur="txtOnBlur(this, &#39;Enter text right here!&#39;);">Enter text right here!</textarea> </form> <span class="idc-clear"> </span></div> </div> <div class="idc-postnav" id="IDCPostNavReply"> <p id="IDCNavGuestReply2" style="display: inline;" class="idc-postnav-label"><span>Reply as a Guest, or login:</span></p> <ul class="idc-postnav-list" id="IDCNavListReply"> <li class="idc-first"><a href="javascript: showLogin();" class="idc-loginbtn_intensedebate">Login to IntenseDebate</a></li> <li class="idc-first"><a href="javascript: showWPLogin();" class="idc-loginbtn_wordpress">Login to WordPress.com</a></li> <li><a href="javascript: IDC.twitter.load_popup();" class="idc-loginbtn_twitter">Login to Twitter</a></li> </ul> <a href="javascript: IDCNavReply(&#39;IDCNavGuestReply&#39;); showSignupReply(); id_fbStopPoll(); id_show_nav();" id="IDCNavGuestReply" style="display:none;margin:2px 0;line-height:21px;">Go back</a> </div> <div class="idc-c-m idc-twitter_loggedin"> <div class="idc-userbar"> <p class="idc-right"><label for="IDReplyTweetThis-tw" style="display:inline; line-height: 28px;" class="idc-nofloat"><input type="checkbox" id="IDReplyTweetThis-tw"> Tweet this comment</label></p> <a class="idc-a_nomenu"><img id="id_twAvatar_Reply" src="https://preshing.com/20120612/an-introduction-to-lock-free-programming/" class="idc-avatar" width="26" height="26"><img id="id_twAvatar_Reply-fav" src="./An Introduction to Lock-Free Programming_files/twitter-favicon.ico" style="margin: 13px 0 -1px -5px; width: 16px; height: 16px;" width="16" height="16" alt="Twitter"></a> <p class="idc-userbar-i">Connected as <a href="https://preshing.com/20120612/an-introduction-to-lock-free-programming/#" class="snap_noshots" id="id_twName_Reply"></a> (<a href="https://www.intensedebate.com/twitter-logout.php" class="snap_noshots">Logout</a>)</p> </div> <div class="idc-column-wide"> <label for="txtEmailReplyTW">Email (optional)</label> <input type="text" id="txtEmailReplyTW" class="idc-text" onfocus="txtOnFocus(this, &#39;&#39;);" onblur="txtOnBlur(this, &#39;&#39;);"> <p class="idc-form-info">Not displayed publicly.</p> </div> </div> <div class="idc-c-m idc-signup" id="IDCommentReplyOuterDiv"> <form id="IDCommentReplyForm2"> <div style="width: 100%;" id="IDCommentReplyInnerDiv"> <div class="idc-columns"> <div class="idc-column" id="IDCColumnNameReplyLabel"> <label for="txtNameReply">Name</label> </div> <div class="idc-column" id="IDCColumnEmailReplyLabel"> <label for="txtEmailReply">Email</label> </div> <div class="idc-column" id="IDCColumnURLReplyLabel"> <label for="txtURLReply">Website (optional)</label> </div> <span class="idc-clear"></span> </div> <div class="idc-column" id="IDCColumnNameReply"> <input type="text" id="txtNameReply" class="idc-text" onfocus="txtOnFocus(this, &#39;&#39;);" onblur="txtOnBlur(this, &#39;&#39;);"> <p class="idc-form-info">Displayed next to your comments.</p> </div> <div class="idc-column" id="IDCColumnEmailReply"> <input type="text" id="txtEmailReply" class="idc-text" onfocus="txtOnFocus(this, &#39;&#39;);" onblur="txtOnBlur(this, &#39;&#39;);"> <p class="idc-form-info">Not displayed publicly.</p> </div> <div class="idc-column" id="IDCColumnURLReply"> <input type="text" class="idc-text" id="txtURLReply" onfocus="txtOnFocus(this, &#39;&#39;);" onblur="txtOnBlur(this, &#39;&#39;);"> <p class="idc-form-info">If you have a website, link to it here.</p> </div> </div> </form> </div> <p id="IDCommentReplyListItem1" style="display:none;">Posting anonymously.</p> <p id="IDReplyTweetThisWrapper" style="display:none"><label for="IDReplyTweetThis" class="idc-nofloat"><input type="checkbox" id="IDReplyTweetThis"> Tweet this comment</label></p> <div class="idc-c-b"> <div class="idc-right" id="IDReplyDivSubmitLI"> <a href="javascript: hideReply();" class="idc-btn_l-secondary"><span></span><span class="idc-r">Cancel</span></a> <a id="IDReplyDivSubmitLIButton" class="idc-btn_l" href="javascript: postComment(1);"><span></span><span class="idc-r"><strong>Submit Comment</strong></span></a> </div> <div class="idc-new_subscribe" id="IDSubscribeToThisWrapperReply"> <!--<input type="checkbox" id="IDSubscribeToThisReply" class="idc-chk" />--> <label for="IDSubscribeToThisReply" class="idc-nofloat"> Subscribe to <select id="IDSubscribeToThisReply" name="IDSubscribeToThisReply"> <option value="-1" id="IDSubscribeToThisReply-def">None</option> <option value="1" id="IDSubscribeToThisReply-replies">Replies</option> <option value="0">All new comments</option> </select> </label> </div> <span class="idc-clear"></span> </div></div><iframe src="./An Introduction to Lock-Free Programming_files/empty.html" style="display: none;"></iframe><img src="./An Introduction to Lock-Free Programming_files/remoteCheckin.php" style="display: none;"></div><span id="idc-clear"></span></div><script type="text/javascript" src="./An Introduction to Lock-Free Programming_files/197997863"></script><script type="text/javascript" src="./An Introduction to Lock-Free Programming_files/genericCommentWrapperV2.js"></script>
</div>
</section>


</div>

<aside class="sidebar">
  
    <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="https://preshing.com/20180124/a-flexible-reflection-system-in-cpp-part-2">A Flexible Reflection System in C++: Part 2</a>
      </li>
    
      <li class="post">
        <a href="https://preshing.com/20180116/a-primitive-reflection-system-in-cpp-part-1">A Flexible Reflection System in C++: Part 1</a>
      </li>
    
      <li class="post">
        <a href="https://preshing.com/20171218/how-to-write-your-own-cpp-game-engine">How to Write Your Own C++ Game Engine</a>
      </li>
    
      <li class="post">
        <a href="https://preshing.com/20170612/can-reordering-of-release-acquire-operations-introduce-deadlock">Can Reordering of Release/Acquire Operations Introduce Deadlock?</a>
      </li>
    
      <li class="post">
        <a href="https://preshing.com/20170529/heres-a-standalone-cairo-dll-for-windows">Here's a Standalone Cairo DLL for Windows</a>
      </li>
    
      <li class="post">
        <a href="https://preshing.com/20170522/learn-cmakes-scripting-language-in-15-minutes">Learn CMake's Scripting Language in 15 Minutes</a>
      </li>
    
      <li class="post">
        <a href="https://preshing.com/20170511/how-to-build-a-cmake-based-project">How to Build a CMake-Based Project</a>
      </li>
    
      <li class="post">
        <a href="https://preshing.com/20160726/using-quiescent-states-to-reclaim-memory">Using Quiescent States to Reclaim Memory</a>
      </li>
    
      <li class="post">
        <a href="https://preshing.com/20160314/leapfrog-probing">Leapfrog Probing</a>
      </li>
    
      <li class="post">
        <a href="https://preshing.com/20160222/a-resizable-concurrent-map">A Resizable Concurrent Map</a>
      </li>
    
      <li class="post">
        <a href="https://preshing.com/20160201/new-concurrent-hash-maps-for-cpp">New Concurrent Hash Maps for C++</a>
      </li>
    
      <li class="post">
        <a href="https://preshing.com/20150402/you-can-do-any-kind-of-atomic-read-modify-write-operation">You Can Do Any Kind of Atomic Read-Modify-Write Operation</a>
      </li>
    
      <li class="post">
        <a href="https://preshing.com/20150324/safe-bitfields-in-cpp">Safe Bitfields in C++</a>
      </li>
    
      <li class="post">
        <a href="https://preshing.com/20150316/semaphores-are-surprisingly-versatile">Semaphores are Surprisingly Versatile</a>
      </li>
    
      <li class="post">
        <a href="https://preshing.com/20141202/cpp-has-become-more-pythonic">C++ Has Become More Pythonic</a>
      </li>
    
      <li class="post">
        <a href="https://preshing.com/20141124/fixing-gccs-implementation-of-memory_order_consume">Fixing GCC's Implementation of memory_order_consume</a>
      </li>
    
      <li class="post">
        <a href="https://preshing.com/20141119/how-to-build-a-gcc-cross-compiler">How to Build a GCC Cross-Compiler</a>
      </li>
    
      <li class="post">
        <a href="https://preshing.com/20141108/how-to-install-the-latest-gcc-on-windows">How to Install the Latest GCC on Windows</a>
      </li>
    
      <li class="post">
        <a href="https://preshing.com/20141024/my-multicore-talk-at-cppcon-2014">My Multicore Talk at CppCon 2014</a>
      </li>
    
      <li class="post">
        <a href="https://preshing.com/20140709/the-purpose-of-memory_order_consume-in-cpp11">The Purpose of memory_order_consume in C++11</a>
      </li>
    
  </ul>
</section>
<section>
  <h1>Tip Jar</h1>

  <p class="tip-hint">If you like this blog, <a href="https://preshing.com/tip-jar">leave a tip!</a></p>
  <a href="https://preshing.com/tip-jar"><div id="tipjar-div"><img id="tip-hand" src="./An Introduction to Lock-Free Programming_files/tip-hand.png" width="76" height="54"><img src="./An Introduction to Lock-Free Programming_files/tip-jar.png" width="83" height="104"></div></a>
</section>





  
</aside>


    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright © 2018 Jeff Preshing -
  <span class="credit">Powered by <a href="http://octopress.org/">Octopress</a></span>
</p>

</footer>
  













<div class="idc-loaded" id="IDCommentLoadingDiv" style="display: block;"></div></body></html>